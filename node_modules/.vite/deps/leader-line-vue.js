import "./chunk-G3PMV62Z.js";

// node_modules/leader-line-vue/leader-line-vue.js
var LeaderLine = function() {
  "use strict";
  var te, g, y, S, _, o, t, h, f, p, a, i, l, v = "leader-line", M = 1, I = 2, C = 3, L = 4, n = {
    top: M,
    right: I,
    bottom: C,
    left: L
  }, A = 1, V = 2, P = 3, N = 4, T = 5, m = {
    straight: A,
    arc: V,
    fluid: P,
    magnet: N,
    grid: T
  }, ne = "behind", r = v + "-defs", s = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>', ae = {
    disc: {
      elmId: "leader-line-disc",
      noRotate: true,
      bBox: {
        left: -5,
        top: -5,
        width: 10,
        height: 10,
        right: 5,
        bottom: 5
      },
      widthR: 2.5,
      heightR: 2.5,
      bCircle: 5,
      sideLen: 5,
      backLen: 5,
      overhead: 0,
      outlineBase: 1,
      outlineMax: 4
    },
    square: {
      elmId: "leader-line-square",
      noRotate: true,
      bBox: {
        left: -5,
        top: -5,
        width: 10,
        height: 10,
        right: 5,
        bottom: 5
      },
      widthR: 2.5,
      heightR: 2.5,
      bCircle: 5,
      sideLen: 5,
      backLen: 5,
      overhead: 0,
      outlineBase: 1,
      outlineMax: 4
    },
    arrow1: {
      elmId: "leader-line-arrow1",
      bBox: {
        left: -8,
        top: -8,
        width: 16,
        height: 16,
        right: 8,
        bottom: 8
      },
      widthR: 4,
      heightR: 4,
      bCircle: 8,
      sideLen: 8,
      backLen: 8,
      overhead: 8,
      outlineBase: 2,
      outlineMax: 1.5
    },
    arrow2: {
      elmId: "leader-line-arrow2",
      bBox: {
        left: -7,
        top: -8,
        width: 11,
        height: 16,
        right: 4,
        bottom: 8
      },
      widthR: 2.75,
      heightR: 4,
      bCircle: 8,
      sideLen: 8,
      backLen: 7,
      overhead: 4,
      outlineBase: 1,
      outlineMax: 1.75
    },
    arrow3: {
      elmId: "leader-line-arrow3",
      bBox: {
        left: -4,
        top: -5,
        width: 12,
        height: 10,
        right: 8,
        bottom: 5
      },
      widthR: 3,
      heightR: 2.5,
      bCircle: 8,
      sideLen: 5,
      backLen: 4,
      overhead: 8,
      outlineBase: 1,
      outlineMax: 2.5
    },
    hand: {
      elmId: "leader-line-hand",
      bBox: {
        left: -3,
        top: -12,
        width: 40,
        height: 24,
        right: 37,
        bottom: 12
      },
      widthR: 10,
      heightR: 6,
      bCircle: 37,
      sideLen: 12,
      backLen: 3,
      overhead: 37
    },
    crosshair: {
      elmId: "leader-line-crosshair",
      noRotate: true,
      bBox: {
        left: -96,
        top: -96,
        width: 192,
        height: 192,
        right: 96,
        bottom: 96
      },
      widthR: 48,
      heightR: 48,
      bCircle: 96,
      sideLen: 96,
      backLen: 96,
      overhead: 0
    }
  }, E = {
    behind: ne,
    disc: "disc",
    square: "square",
    arrow1: "arrow1",
    arrow2: "arrow2",
    arrow3: "arrow3",
    hand: "hand",
    crosshair: "crosshair"
  }, ie = {
    disc: "disc",
    square: "square",
    arrow1: "arrow1",
    arrow2: "arrow2",
    arrow3: "arrow3",
    hand: "hand",
    crosshair: "crosshair"
  }, W = [M, I, C, L], x = "auto", oe = {
    x: "left",
    y: "top",
    width: "width",
    height: "height"
  }, B = 80, R = 4, F = 5, G = 120, D = 8, z = 3.75, j = 10, H = 30, U = 0.5522847, Z = 0.25 * Math.PI, u = /^\s*(\-?[\d\.]+)\s*(\%)?\s*$/, b = "http://www.w3.org/2000/svg", e = "-ms-scroll-limit" in document.documentElement.style && "-ms-ime-align" in document.documentElement.style && !window.navigator.msPointerEnabled, le = !e && !!document.uniqueID, re = "MozAppearance" in document.documentElement.style, se = !(e || re || !window.chrome || !window.CSS), ue = !e && !le && !re && !se && !window.chrome && "WebkitAppearance" in document.documentElement.style, he = le || e ? 0.2 : 0.1, pe = {
    path: P,
    lineColor: "coral",
    lineSize: 4,
    plugSE: [ne, "arrow1"],
    plugSizeSE: [1, 1],
    lineOutlineEnabled: false,
    lineOutlineColor: "indianred",
    lineOutlineSize: 0.25,
    plugOutlineEnabledSE: [false, false],
    plugOutlineSizeSE: [1, 1]
  }, k = (a = {}.toString, i = {}.hasOwnProperty.toString, l = i.call(Object), function(e2) {
    var t2, n2;
    return e2 && "[object Object]" === a.call(e2) && (!(t2 = Object.getPrototypeOf(e2)) || (n2 = t2.hasOwnProperty("constructor") && t2.constructor) && "function" == typeof n2 && i.call(n2) === l);
  }), w = Number.isFinite || function(e2) {
    return "number" == typeof e2 && window.isFinite(e2);
  }, c = function() {
    var e2, x2 = {
      ease: [0.25, 0.1, 0.25, 1],
      linear: [0, 0, 1, 1],
      "ease-in": [0.42, 0, 1, 1],
      "ease-out": [0, 0, 0.58, 1],
      "ease-in-out": [0.42, 0, 0.58, 1]
    }, b2 = 1e3 / 60 / 2, t2 = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function(e3) {
      setTimeout(e3, b2);
    }, n2 = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function(e3) {
      clearTimeout(e3);
    }, a2 = Number.isFinite || function(e3) {
      return "number" == typeof e3 && window.isFinite(e3);
    }, k2 = [], w2 = 0;
    function l2() {
      var i2 = Date.now(), o2 = false;
      e2 && (n2.call(window, e2), e2 = null), k2.forEach(function(e3) {
        var t3, n3, a3;
        if (e3.framesStart) {
          if ((t3 = i2 - e3.framesStart) >= e3.duration && e3.count && e3.loopsLeft <= 1) return a3 = e3.frames[e3.lastFrame = e3.reverse ? 0 : e3.frames.length - 1], e3.frameCallback(a3.value, true, a3.timeRatio, a3.outputRatio), void (e3.framesStart = null);
          if (t3 > e3.duration) {
            if (n3 = Math.floor(t3 / e3.duration), e3.count) {
              if (n3 >= e3.loopsLeft) return a3 = e3.frames[e3.lastFrame = e3.reverse ? 0 : e3.frames.length - 1], e3.frameCallback(a3.value, true, a3.timeRatio, a3.outputRatio), void (e3.framesStart = null);
              e3.loopsLeft -= n3;
            }
            e3.framesStart += e3.duration * n3, t3 = i2 - e3.framesStart;
          }
          e3.reverse && (t3 = e3.duration - t3), a3 = e3.frames[e3.lastFrame = Math.round(t3 / b2)], false !== e3.frameCallback(a3.value, false, a3.timeRatio, a3.outputRatio) ? o2 = true : e3.framesStart = null;
        }
      }), o2 && (e2 = t2.call(window, l2));
    }
    function O2(e3, t3) {
      e3.framesStart = Date.now(), null != t3 && (e3.framesStart -= e3.duration * (e3.reverse ? 1 - t3 : t3)), e3.loopsLeft = e3.count, e3.lastFrame = null, l2();
    }
    return {
      add: function(n3, e3, t3, a3, i2, o2, l3) {
        var r2, s2, u2, h2, p2, c2, d2, f2, y2, S2, m2, g2, _2, v2 = ++w2;
        function E2(e4, t4) {
          return {
            value: n3(t4),
            timeRatio: e4,
            outputRatio: t4
          };
        }
        if ("string" == typeof i2 && (i2 = x2[i2]), n3 = n3 || function() {
        }, t3 < b2) s2 = [E2(0, 0), E2(1, 1)];
        else {
          if (u2 = b2 / t3, s2 = [E2(0, 0)], 0 === i2[0] && 0 === i2[1] && 1 === i2[2] && 1 === i2[3])
            for (p2 = u2; p2 <= 1; p2 += u2) s2.push(E2(p2, p2));
          else
            for (c2 = h2 = (p2 = u2) / 10; c2 <= 1; c2 += h2) void 0, S2 = (y2 = (f2 = c2) * f2) * f2, _2 = 3 * (m2 = 1 - f2) * y2, p2 <= (d2 = {
              x: (g2 = 3 * (m2 * m2) * f2) * i2[0] + _2 * i2[2] + S2,
              y: g2 * i2[1] + _2 * i2[3] + S2
            }).x && (s2.push(E2(d2.x, d2.y)), p2 += u2);
          s2.push(E2(1, 1));
        }
        return r2 = {
          animId: v2,
          frameCallback: e3,
          duration: t3,
          count: a3,
          frames: s2,
          reverse: !!o2
        }, k2.push(r2), false !== l3 && O2(r2, l3), v2;
      },
      remove: function(n3) {
        var a3;
        k2.some(function(e3, t3) {
          return e3.animId === n3 && (a3 = t3, !(e3.framesStart = null));
        }) && k2.splice(a3, 1);
      },
      start: function(t3, n3, a3) {
        k2.some(function(e3) {
          return e3.animId === t3 && (e3.reverse = !!n3, O2(e3, a3), true);
        });
      },
      stop: function(t3, n3) {
        var a3;
        return k2.some(function(e3) {
          return e3.animId === t3 && (n3 ? null != e3.lastFrame && (a3 = e3.frames[e3.lastFrame].timeRatio) : (a3 = (Date.now() - e3.framesStart) / e3.duration, e3.reverse && (a3 = 1 - a3), a3 < 0 ? a3 = 0 : 1 < a3 && (a3 = 1)), !(e3.framesStart = null));
        }), a3;
      },
      validTiming: function(t3) {
        return "string" == typeof t3 ? x2[t3] : Array.isArray(t3) && [0, 1, 2, 3].every(function(e3) {
          return a2(t3[e3]) && 0 <= t3[e3] && t3[e3] <= 1;
        }) ? [t3[0], t3[1], t3[2], t3[3]] : null;
      }
    };
  }(), d = function(e2) {
    e2.SVGPathElement.prototype.getPathData && e2.SVGPathElement.prototype.setPathData || function() {
      var i2 = {
        Z: "Z",
        M: "M",
        L: "L",
        C: "C",
        Q: "Q",
        A: "A",
        H: "H",
        V: "V",
        S: "S",
        T: "T",
        z: "Z",
        m: "m",
        l: "l",
        c: "c",
        q: "q",
        a: "a",
        h: "h",
        v: "v",
        s: "s",
        t: "t"
      }, o2 = function(e3) {
        this._string = e3, this._currentIndex = 0, this._endIndex = this._string.length, this._prevCommand = null, this._skipOptionalSpaces();
      }, l2 = -1 !== e2.navigator.userAgent.indexOf("MSIE ");
      o2.prototype = {
        parseSegment: function() {
          var e3 = this._string[this._currentIndex], t2 = i2[e3] ? i2[e3] : null;
          if (null === t2) {
            if (null === this._prevCommand) return null;
            if (null === (t2 = ("+" === e3 || "-" === e3 || "." === e3 || "0" <= e3 && e3 <= "9") && "Z" !== this._prevCommand ? "M" === this._prevCommand ? "L" : "m" === this._prevCommand ? "l" : this._prevCommand : null)) return null;
          } else this._currentIndex += 1;
          var n3 = null, a3 = (this._prevCommand = t2).toUpperCase();
          return "H" === a3 || "V" === a3 ? n3 = [this._parseNumber()] : "M" === a3 || "L" === a3 || "T" === a3 ? n3 = [this._parseNumber(), this._parseNumber()] : "S" === a3 || "Q" === a3 ? n3 = [this._parseNumber(), this._parseNumber(), this._parseNumber(), this._parseNumber()] : "C" === a3 ? n3 = [this._parseNumber(), this._parseNumber(), this._parseNumber(), this._parseNumber(), this._parseNumber(), this._parseNumber()] : "A" === a3 ? n3 = [this._parseNumber(), this._parseNumber(), this._parseNumber(), this._parseArcFlag(), this._parseArcFlag(), this._parseNumber(), this._parseNumber()] : "Z" === a3 && (this._skipOptionalSpaces(), n3 = []), null === n3 || 0 <= n3.indexOf(null) ? null : {
            type: t2,
            values: n3
          };
        },
        hasMoreData: function() {
          return this._currentIndex < this._endIndex;
        },
        peekSegmentType: function() {
          var e3 = this._string[this._currentIndex];
          return i2[e3] ? i2[e3] : null;
        },
        initialCommandIsMoveTo: function() {
          if (!this.hasMoreData()) return true;
          var e3 = this.peekSegmentType();
          return "M" === e3 || "m" === e3;
        },
        _isCurrentSpace: function() {
          var e3 = this._string[this._currentIndex];
          return e3 <= " " && (" " === e3 || "\n" === e3 || "	" === e3 || "\r" === e3 || "\f" === e3);
        },
        _skipOptionalSpaces: function() {
          for (; this._currentIndex < this._endIndex && this._isCurrentSpace(); ) this._currentIndex += 1;
          return this._currentIndex < this._endIndex;
        },
        _skipOptionalSpacesOrDelimiter: function() {
          return !(this._currentIndex < this._endIndex && !this._isCurrentSpace() && "," !== this._string[this._currentIndex]) && (this._skipOptionalSpaces() && this._currentIndex < this._endIndex && "," === this._string[this._currentIndex] && (this._currentIndex += 1, this._skipOptionalSpaces()), this._currentIndex < this._endIndex);
        },
        _parseNumber: function() {
          var e3 = 0, t2 = 0, n3 = 1, a3 = 0, i3 = 1, o3 = 1, l3 = this._currentIndex;
          if (this._skipOptionalSpaces(), this._currentIndex < this._endIndex && "+" === this._string[this._currentIndex] ? this._currentIndex += 1 : this._currentIndex < this._endIndex && "-" === this._string[this._currentIndex] && (this._currentIndex += 1, i3 = -1), this._currentIndex === this._endIndex || (this._string[this._currentIndex] < "0" || "9" < this._string[this._currentIndex]) && "." !== this._string[this._currentIndex]) return null;
          for (var r3 = this._currentIndex; this._currentIndex < this._endIndex && "0" <= this._string[this._currentIndex] && this._string[this._currentIndex] <= "9"; ) this._currentIndex += 1;
          if (this._currentIndex !== r3)
            for (var s2 = this._currentIndex - 1, u2 = 1; r3 <= s2; ) t2 += u2 * (this._string[s2] - "0"), s2 -= 1, u2 *= 10;
          if (this._currentIndex < this._endIndex && "." === this._string[this._currentIndex]) {
            if (this._currentIndex += 1, this._currentIndex >= this._endIndex || this._string[this._currentIndex] < "0" || "9" < this._string[this._currentIndex]) return null;
            for (; this._currentIndex < this._endIndex && "0" <= this._string[this._currentIndex] && this._string[this._currentIndex] <= "9"; ) n3 *= 10, a3 += (this._string.charAt(this._currentIndex) - "0") / n3, this._currentIndex += 1;
          }
          if (this._currentIndex !== l3 && this._currentIndex + 1 < this._endIndex && ("e" === this._string[this._currentIndex] || "E" === this._string[this._currentIndex]) && "x" !== this._string[this._currentIndex + 1] && "m" !== this._string[this._currentIndex + 1]) {
            if (this._currentIndex += 1, "+" === this._string[this._currentIndex] ? this._currentIndex += 1 : "-" === this._string[this._currentIndex] && (this._currentIndex += 1, o3 = -1), this._currentIndex >= this._endIndex || this._string[this._currentIndex] < "0" || "9" < this._string[this._currentIndex]) return null;
            for (; this._currentIndex < this._endIndex && "0" <= this._string[this._currentIndex] && this._string[this._currentIndex] <= "9"; ) e3 *= 10, e3 += this._string[this._currentIndex] - "0", this._currentIndex += 1;
          }
          var h2 = t2 + a3;
          return h2 *= i3, e3 && (h2 *= Math.pow(10, o3 * e3)), l3 === this._currentIndex ? null : (this._skipOptionalSpacesOrDelimiter(), h2);
        },
        _parseArcFlag: function() {
          if (this._currentIndex >= this._endIndex) return null;
          var e3 = null, t2 = this._string[this._currentIndex];
          if (this._currentIndex += 1, "0" === t2) e3 = 0;
          else {
            if ("1" !== t2) return null;
            e3 = 1;
          }
          return this._skipOptionalSpacesOrDelimiter(), e3;
        }
      };
      var a2 = function(e3) {
        if (!e3 || 0 === e3.length) return [];
        var t2 = new o2(e3), n3 = [];
        if (t2.initialCommandIsMoveTo())
          for (; t2.hasMoreData(); ) {
            var a3 = t2.parseSegment();
            if (null === a3) break;
            n3.push(a3);
          }
        return n3;
      }, n2 = e2.SVGPathElement.prototype.setAttribute, r2 = e2.SVGPathElement.prototype.removeAttribute, d2 = e2.Symbol ? e2.Symbol() : "__cachedPathData", f2 = e2.Symbol ? e2.Symbol() : "__cachedNormalizedPathData", U2 = function(e3, t2, n3, a3, i3, o3, l3, r3, s2, u2) {
        var h2, p2, c2, d3, f3, y3 = function(e4, t3, n4) {
          return {
            x: e4 * Math.cos(n4) - t3 * Math.sin(n4),
            y: e4 * Math.sin(n4) + t3 * Math.cos(n4)
          };
        }, S3 = (h2 = l3, Math.PI * h2 / 180), m2 = [];
        if (u2) p2 = u2[0], c2 = u2[1], d3 = u2[2], f3 = u2[3];
        else {
          var g2 = y3(e3, t2, -S3);
          e3 = g2.x, t2 = g2.y;
          var _2 = y3(n3, a3, -S3), v2 = (e3 - (n3 = _2.x)) / 2, E2 = (t2 - (a3 = _2.y)) / 2, x2 = v2 * v2 / (i3 * i3) + E2 * E2 / (o3 * o3);
          1 < x2 && (i3 *= x2 = Math.sqrt(x2), o3 *= x2);
          var b2 = i3 * i3, k2 = o3 * o3, w2 = b2 * k2 - b2 * E2 * E2 - k2 * v2 * v2, O2 = b2 * E2 * E2 + k2 * v2 * v2, M2 = (r3 === s2 ? -1 : 1) * Math.sqrt(Math.abs(w2 / O2));
          d3 = M2 * i3 * E2 / o3 + (e3 + n3) / 2, f3 = M2 * -o3 * v2 / i3 + (t2 + a3) / 2, p2 = Math.asin(parseFloat(((t2 - f3) / o3).toFixed(9))), c2 = Math.asin(parseFloat(((a3 - f3) / o3).toFixed(9))), e3 < d3 && (p2 = Math.PI - p2), n3 < d3 && (c2 = Math.PI - c2), p2 < 0 && (p2 = 2 * Math.PI + p2), c2 < 0 && (c2 = 2 * Math.PI + c2), s2 && c2 < p2 && (p2 -= 2 * Math.PI), !s2 && p2 < c2 && (c2 -= 2 * Math.PI);
        }
        var I2 = c2 - p2;
        if (Math.abs(I2) > 120 * Math.PI / 180) {
          var C2 = c2, L2 = n3, A2 = a3;
          c2 = s2 && p2 < c2 ? p2 + 120 * Math.PI / 180 * 1 : p2 + 120 * Math.PI / 180 * -1, n3 = d3 + i3 * Math.cos(c2), a3 = f3 + o3 * Math.sin(c2), m2 = U2(n3, a3, L2, A2, i3, o3, l3, 0, s2, [c2, C2, d3, f3]);
        }
        I2 = c2 - p2;
        var V2 = Math.cos(p2), P2 = Math.sin(p2), N2 = Math.cos(c2), T2 = Math.sin(c2), W2 = Math.tan(I2 / 4), B2 = 4 / 3 * i3 * W2, R2 = 4 / 3 * o3 * W2, F2 = [e3, t2], G2 = [e3 + B2 * P2, t2 - R2 * V2], D2 = [n3 + B2 * T2, a3 - R2 * N2], z2 = [n3, a3];
        if (G2[0] = 2 * F2[0] - G2[0], G2[1] = 2 * F2[1] - G2[1], u2) return [G2, D2, z2].concat(m2);
        m2 = [G2, D2, z2].concat(m2).join().split(",");
        var j2 = [], H2 = [];
        return m2.forEach(function(e4, t3) {
          t3 % 2 ? H2.push(y3(m2[t3 - 1], m2[t3], S3).y) : H2.push(y3(m2[t3], m2[t3 + 1], S3).x), 6 === H2.length && (j2.push(H2), H2 = []);
        }), j2;
      }, y2 = function(e3) {
        return e3.map(function(e4) {
          return {
            type: e4.type,
            values: Array.prototype.slice.call(e4.values)
          };
        });
      }, S2 = function(e3) {
        var S3 = [], m2 = null, g2 = null, _2 = null, v2 = null, E2 = null, x2 = null, b2 = null;
        return e3.forEach(function(e4) {
          if ("M" === e4.type) {
            var t2 = e4.values[0], n3 = e4.values[1];
            S3.push({
              type: "M",
              values: [t2, n3]
            }), v2 = x2 = t2, E2 = b2 = n3;
          } else if ("C" === e4.type) {
            var a3 = e4.values[0], i3 = e4.values[1], o3 = e4.values[2], l3 = e4.values[3];
            t2 = e4.values[4], n3 = e4.values[5];
            S3.push({
              type: "C",
              values: [a3, i3, o3, l3, t2, n3]
            }), g2 = o3, _2 = l3, v2 = t2, E2 = n3;
          } else if ("L" === e4.type) {
            t2 = e4.values[0], n3 = e4.values[1];
            S3.push({
              type: "L",
              values: [t2, n3]
            }), v2 = t2, E2 = n3;
          } else if ("H" === e4.type) {
            t2 = e4.values[0];
            S3.push({
              type: "L",
              values: [t2, E2]
            }), v2 = t2;
          } else if ("V" === e4.type) {
            n3 = e4.values[0];
            S3.push({
              type: "L",
              values: [v2, n3]
            }), E2 = n3;
          } else if ("S" === e4.type) {
            o3 = e4.values[0], l3 = e4.values[1], t2 = e4.values[2], n3 = e4.values[3];
            "C" === m2 || "S" === m2 ? (r3 = v2 + (v2 - g2), s2 = E2 + (E2 - _2)) : (r3 = v2, s2 = E2), S3.push({
              type: "C",
              values: [r3, s2, o3, l3, t2, n3]
            }), g2 = o3, _2 = l3, v2 = t2, E2 = n3;
          } else if ("T" === e4.type) {
            t2 = e4.values[0], n3 = e4.values[1];
            "Q" === m2 || "T" === m2 ? (a3 = v2 + (v2 - g2), i3 = E2 + (E2 - _2)) : (a3 = v2, i3 = E2);
            var r3 = v2 + 2 * (a3 - v2) / 3, s2 = E2 + 2 * (i3 - E2) / 3, u2 = t2 + 2 * (a3 - t2) / 3, h2 = n3 + 2 * (i3 - n3) / 3;
            S3.push({
              type: "C",
              values: [r3, s2, u2, h2, t2, n3]
            }), g2 = a3, _2 = i3, v2 = t2, E2 = n3;
          } else if ("Q" === e4.type) {
            a3 = e4.values[0], i3 = e4.values[1], t2 = e4.values[2], n3 = e4.values[3], r3 = v2 + 2 * (a3 - v2) / 3, s2 = E2 + 2 * (i3 - E2) / 3, u2 = t2 + 2 * (a3 - t2) / 3, h2 = n3 + 2 * (i3 - n3) / 3;
            S3.push({
              type: "C",
              values: [r3, s2, u2, h2, t2, n3]
            }), g2 = a3, _2 = i3, v2 = t2, E2 = n3;
          } else if ("A" === e4.type) {
            var p2 = e4.values[0], c2 = e4.values[1], d3 = e4.values[2], f3 = e4.values[3], y3 = e4.values[4];
            t2 = e4.values[5], n3 = e4.values[6];
            if (0 === p2 || 0 === c2) S3.push({
              type: "C",
              values: [v2, E2, t2, n3, t2, n3]
            }), v2 = t2, E2 = n3;
            else if (v2 !== t2 || E2 !== n3) U2(v2, E2, t2, n3, p2, c2, d3, f3, y3).forEach(function(e5) {
              S3.push({
                type: "C",
                values: e5
              }), v2 = t2, E2 = n3;
            });
          } else "Z" === e4.type && (S3.push(e4), v2 = x2, E2 = b2);
          m2 = e4.type;
        }), S3;
      };
      e2.SVGPathElement.prototype.setAttribute = function(e3, t2) {
        "d" === e3 && (this[d2] = null, this[f2] = null), n2.call(this, e3, t2);
      }, e2.SVGPathElement.prototype.removeAttribute = function(e3, t2) {
        "d" === e3 && (this[d2] = null, this[f2] = null), r2.call(this, e3);
      }, e2.SVGPathElement.prototype.getPathData = function(e3) {
        if (e3 && e3.normalize) {
          if (this[f2]) return y2(this[f2]);
          this[d2] ? n3 = y2(this[d2]) : (n3 = a2(this.getAttribute("d") || ""), this[d2] = y2(n3));
          var t2 = S2((s2 = [], c2 = p2 = h2 = u2 = null, n3.forEach(function(e4) {
            var t3 = e4.type;
            if ("M" === t3) {
              var n4 = e4.values[0], a3 = e4.values[1];
              s2.push({
                type: "M",
                values: [n4, a3]
              }), u2 = p2 = n4, h2 = c2 = a3;
            } else if ("m" === t3) n4 = u2 + e4.values[0], a3 = h2 + e4.values[1], s2.push({
              type: "M",
              values: [n4, a3]
            }), u2 = p2 = n4, h2 = c2 = a3;
            else if ("L" === t3) n4 = e4.values[0], a3 = e4.values[1], s2.push({
              type: "L",
              values: [n4, a3]
            }), u2 = n4, h2 = a3;
            else if ("l" === t3) n4 = u2 + e4.values[0], a3 = h2 + e4.values[1], s2.push({
              type: "L",
              values: [n4, a3]
            }), u2 = n4, h2 = a3;
            else if ("C" === t3) {
              var i3 = e4.values[0], o3 = e4.values[1], l3 = e4.values[2], r3 = e4.values[3];
              n4 = e4.values[4], a3 = e4.values[5], s2.push({
                type: "C",
                values: [i3, o3, l3, r3, n4, a3]
              }), u2 = n4, h2 = a3;
            } else "c" === t3 ? (i3 = u2 + e4.values[0], o3 = h2 + e4.values[1], l3 = u2 + e4.values[2], r3 = h2 + e4.values[3], n4 = u2 + e4.values[4], a3 = h2 + e4.values[5], s2.push({
              type: "C",
              values: [i3, o3, l3, r3, n4, a3]
            }), u2 = n4, h2 = a3) : "Q" === t3 ? (i3 = e4.values[0], o3 = e4.values[1], n4 = e4.values[2], a3 = e4.values[3], s2.push({
              type: "Q",
              values: [i3, o3, n4, a3]
            }), u2 = n4, h2 = a3) : "q" === t3 ? (i3 = u2 + e4.values[0], o3 = h2 + e4.values[1], n4 = u2 + e4.values[2], a3 = h2 + e4.values[3], s2.push({
              type: "Q",
              values: [i3, o3, n4, a3]
            }), u2 = n4, h2 = a3) : "A" === t3 ? (n4 = e4.values[5], a3 = e4.values[6], s2.push({
              type: "A",
              values: [e4.values[0], e4.values[1], e4.values[2], e4.values[3], e4.values[4], n4, a3]
            }), u2 = n4, h2 = a3) : "a" === t3 ? (n4 = u2 + e4.values[5], a3 = h2 + e4.values[6], s2.push({
              type: "A",
              values: [e4.values[0], e4.values[1], e4.values[2], e4.values[3], e4.values[4], n4, a3]
            }), u2 = n4, h2 = a3) : "H" === t3 ? (n4 = e4.values[0], s2.push({
              type: "H",
              values: [n4]
            }), u2 = n4) : "h" === t3 ? (n4 = u2 + e4.values[0], s2.push({
              type: "H",
              values: [n4]
            }), u2 = n4) : "V" === t3 ? (a3 = e4.values[0], s2.push({
              type: "V",
              values: [a3]
            }), h2 = a3) : "v" === t3 ? (a3 = h2 + e4.values[0], s2.push({
              type: "V",
              values: [a3]
            }), h2 = a3) : "S" === t3 ? (l3 = e4.values[0], r3 = e4.values[1], n4 = e4.values[2], a3 = e4.values[3], s2.push({
              type: "S",
              values: [l3, r3, n4, a3]
            }), u2 = n4, h2 = a3) : "s" === t3 ? (l3 = u2 + e4.values[0], r3 = h2 + e4.values[1], n4 = u2 + e4.values[2], a3 = h2 + e4.values[3], s2.push({
              type: "S",
              values: [l3, r3, n4, a3]
            }), u2 = n4, h2 = a3) : "T" === t3 ? (n4 = e4.values[0], a3 = e4.values[1], s2.push({
              type: "T",
              values: [n4, a3]
            }), u2 = n4, h2 = a3) : "t" === t3 ? (n4 = u2 + e4.values[0], a3 = h2 + e4.values[1], s2.push({
              type: "T",
              values: [n4, a3]
            }), u2 = n4, h2 = a3) : "Z" !== t3 && "z" !== t3 || (s2.push({
              type: "Z",
              values: []
            }), u2 = p2, h2 = c2);
          }), s2));
          return this[f2] = y2(t2), t2;
        }
        if (this[d2]) return y2(this[d2]);
        var s2, u2, h2, p2, c2, n3 = a2(this.getAttribute("d") || "");
        return this[d2] = y2(n3), n3;
      }, e2.SVGPathElement.prototype.setPathData = function(e3) {
        if (0 === e3.length) l2 ? this.setAttribute("d", "") : this.removeAttribute("d");
        else {
          for (var t2 = "", n3 = 0, a3 = e3.length; n3 < a3; n3 += 1) {
            var i3 = e3[n3];
            0 < n3 && (t2 += " "), t2 += i3.type, i3.values && 0 < i3.values.length && (t2 += " " + i3.values.join(" "));
          }
          this.setAttribute("d", t2);
        }
      }, e2.SVGRectElement.prototype.getPathData = function(e3) {
        var t2 = this.x.baseVal.value, n3 = this.y.baseVal.value, a3 = this.width.baseVal.value, i3 = this.height.baseVal.value, o3 = this.hasAttribute("rx") ? this.rx.baseVal.value : this.ry.baseVal.value, l3 = this.hasAttribute("ry") ? this.ry.baseVal.value : this.rx.baseVal.value;
        a3 / 2 < o3 && (o3 = a3 / 2), i3 / 2 < l3 && (l3 = i3 / 2);
        var r3 = [{
          type: "M",
          values: [t2 + o3, n3]
        }, {
          type: "H",
          values: [t2 + a3 - o3]
        }, {
          type: "A",
          values: [o3, l3, 0, 0, 1, t2 + a3, n3 + l3]
        }, {
          type: "V",
          values: [n3 + i3 - l3]
        }, {
          type: "A",
          values: [o3, l3, 0, 0, 1, t2 + a3 - o3, n3 + i3]
        }, {
          type: "H",
          values: [t2 + o3]
        }, {
          type: "A",
          values: [o3, l3, 0, 0, 1, t2, n3 + i3 - l3]
        }, {
          type: "V",
          values: [n3 + l3]
        }, {
          type: "A",
          values: [o3, l3, 0, 0, 1, t2 + o3, n3]
        }, {
          type: "Z",
          values: []
        }];
        return r3 = r3.filter(function(e4) {
          return "A" !== e4.type || 0 !== e4.values[0] && 0 !== e4.values[1];
        }), e3 && true === e3.normalize && (r3 = S2(r3)), r3;
      }, e2.SVGCircleElement.prototype.getPathData = function(e3) {
        var t2 = this.cx.baseVal.value, n3 = this.cy.baseVal.value, a3 = this.r.baseVal.value, i3 = [{
          type: "M",
          values: [t2 + a3, n3]
        }, {
          type: "A",
          values: [a3, a3, 0, 0, 1, t2, n3 + a3]
        }, {
          type: "A",
          values: [a3, a3, 0, 0, 1, t2 - a3, n3]
        }, {
          type: "A",
          values: [a3, a3, 0, 0, 1, t2, n3 - a3]
        }, {
          type: "A",
          values: [a3, a3, 0, 0, 1, t2 + a3, n3]
        }, {
          type: "Z",
          values: []
        }];
        return e3 && true === e3.normalize && (i3 = S2(i3)), i3;
      }, e2.SVGEllipseElement.prototype.getPathData = function(e3) {
        var t2 = this.cx.baseVal.value, n3 = this.cy.baseVal.value, a3 = this.rx.baseVal.value, i3 = this.ry.baseVal.value, o3 = [{
          type: "M",
          values: [t2 + a3, n3]
        }, {
          type: "A",
          values: [a3, i3, 0, 0, 1, t2, n3 + i3]
        }, {
          type: "A",
          values: [a3, i3, 0, 0, 1, t2 - a3, n3]
        }, {
          type: "A",
          values: [a3, i3, 0, 0, 1, t2, n3 - i3]
        }, {
          type: "A",
          values: [a3, i3, 0, 0, 1, t2 + a3, n3]
        }, {
          type: "Z",
          values: []
        }];
        return e3 && true === e3.normalize && (o3 = S2(o3)), o3;
      }, e2.SVGLineElement.prototype.getPathData = function() {
        return [{
          type: "M",
          values: [this.x1.baseVal.value, this.y1.baseVal.value]
        }, {
          type: "L",
          values: [this.x2.baseVal.value, this.y2.baseVal.value]
        }];
      }, e2.SVGPolylineElement.prototype.getPathData = function() {
        for (var e3 = [], t2 = 0; t2 < this.points.numberOfItems; t2 += 1) {
          var n3 = this.points.getItem(t2);
          e3.push({
            type: 0 === t2 ? "M" : "L",
            values: [n3.x, n3.y]
          });
        }
        return e3;
      }, e2.SVGPolygonElement.prototype.getPathData = function() {
        for (var e3 = [], t2 = 0; t2 < this.points.numberOfItems; t2 += 1) {
          var n3 = this.points.getItem(t2);
          e3.push({
            type: 0 === t2 ? "M" : "L",
            values: [n3.x, n3.y]
          });
        }
        return e3.push({
          type: "Z",
          values: []
        }), e3;
      };
    }();
  }, O = function(n2) {
    var a2 = {};
    function i2(e2) {
      if (a2[e2]) return a2[e2].exports;
      var t2 = a2[e2] = {
        i: e2,
        l: false,
        exports: {}
      };
      return n2[e2].call(t2.exports, t2, t2.exports, i2), t2.l = true, t2.exports;
    }
    return i2.m = n2, i2.c = a2, i2.d = function(e2, t2, n3) {
      i2.o(e2, t2) || Object.defineProperty(e2, t2, {
        configurable: false,
        enumerable: true,
        get: n3
      });
    }, i2.r = function(e2) {
      Object.defineProperty(e2, "__esModule", {
        value: true
      });
    }, i2.n = function(e2) {
      var t2 = e2 && e2.__esModule ? function() {
        return e2.default;
      } : function() {
        return e2;
      };
      return i2.d(t2, "a", t2), t2;
    }, i2.o = function(e2, t2) {
      return Object.prototype.hasOwnProperty.call(e2, t2);
    }, i2.p = "", i2(i2.s = 0);
  }([function(e2, t2, n2) {
    n2.r(t2);
    var a2 = 500, i2 = [], o2 = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function(e3) {
      return setTimeout(e3, 1e3 / 60);
    }, l2 = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function(e3) {
      return clearTimeout(e3);
    }, r2 = void 0, s2 = Date.now();
    function u2() {
      var t3 = void 0, e3 = void 0;
      r2 && (l2.call(window, r2), r2 = null), i2.forEach(function(e4) {
        e4.event && (e4.listener(e4.event), e4.event = null, t3 = true);
      }), t3 ? (s2 = Date.now(), e3 = true) : Date.now() - s2 < a2 && (e3 = true), e3 && (r2 = o2.call(window, u2));
    }
    function h2(n3) {
      var a3 = -1;
      return i2.some(function(e3, t3) {
        return e3.listener === n3 && (a3 = t3, true);
      }), a3;
    }
    var p2 = {
      add: function(e3) {
        var t3 = void 0;
        return -1 === h2(e3) ? (i2.push(t3 = {
          listener: e3
        }), function(e4) {
          t3.event = e4, r2 || u2();
        }) : null;
      },
      remove: function(e3) {
        var t3;
        -1 < (t3 = h2(e3)) && (i2.splice(t3, 1), !i2.length && r2 && (l2.call(window, r2), r2 = null));
      }
    };
    t2.default = p2;
  }]).default, Y = {
    line_altColor: {
      iniValue: false
    },
    line_color: {},
    line_colorTra: {
      iniValue: false
    },
    line_strokeWidth: {},
    plug_enabled: {
      iniValue: false
    },
    plug_enabledSE: {
      hasSE: true,
      iniValue: false
    },
    plug_plugSE: {
      hasSE: true,
      iniValue: ne
    },
    plug_colorSE: {
      hasSE: true
    },
    plug_colorTraSE: {
      hasSE: true,
      iniValue: false
    },
    plug_markerWidthSE: {
      hasSE: true
    },
    plug_markerHeightSE: {
      hasSE: true
    },
    lineOutline_enabled: {
      iniValue: false
    },
    lineOutline_color: {},
    lineOutline_colorTra: {
      iniValue: false
    },
    lineOutline_strokeWidth: {},
    lineOutline_inStrokeWidth: {},
    plugOutline_enabledSE: {
      hasSE: true,
      iniValue: false
    },
    plugOutline_plugSE: {
      hasSE: true,
      iniValue: ne
    },
    plugOutline_colorSE: {
      hasSE: true
    },
    plugOutline_colorTraSE: {
      hasSE: true,
      iniValue: false
    },
    plugOutline_strokeWidthSE: {
      hasSE: true
    },
    plugOutline_inStrokeWidthSE: {
      hasSE: true
    },
    position_socketXYSE: {
      hasSE: true,
      hasProps: true
    },
    position_plugOverheadSE: {
      hasSE: true
    },
    position_path: {},
    position_lineStrokeWidth: {},
    position_socketGravitySE: {
      hasSE: true
    },
    path_pathData: {},
    path_edge: {
      hasProps: true
    },
    viewBox_bBox: {
      hasProps: true
    },
    viewBox_plugBCircleSE: {
      hasSE: true
    },
    lineMask_enabled: {
      iniValue: false
    },
    lineMask_outlineMode: {
      iniValue: false
    },
    lineMask_x: {},
    lineMask_y: {},
    lineOutlineMask_x: {},
    lineOutlineMask_y: {},
    maskBGRect_x: {},
    maskBGRect_y: {},
    capsMaskAnchor_enabledSE: {
      hasSE: true,
      iniValue: false
    },
    capsMaskAnchor_pathDataSE: {
      hasSE: true
    },
    capsMaskAnchor_strokeWidthSE: {
      hasSE: true
    },
    capsMaskMarker_enabled: {
      iniValue: false
    },
    capsMaskMarker_enabledSE: {
      hasSE: true,
      iniValue: false
    },
    capsMaskMarker_plugSE: {
      hasSE: true,
      iniValue: ne
    },
    capsMaskMarker_markerWidthSE: {
      hasSE: true
    },
    capsMaskMarker_markerHeightSE: {
      hasSE: true
    },
    caps_enabled: {
      iniValue: false
    },
    attach_plugSideLenSE: {
      hasSE: true
    },
    attach_plugBackLenSE: {
      hasSE: true
    }
  }, X = {
    show_on: {},
    show_effect: {},
    show_animOptions: {},
    show_animId: {},
    show_inAnim: {}
  }, q = "fade", Q = [], K = {}, J = 0, $ = {}, ee = 0;
  function ce(t2, n2) {
    var e2, a2;
    return typeof t2 != typeof n2 || (e2 = k(t2) ? "obj" : Array.isArray(t2) ? "array" : "") != (k(n2) ? "obj" : Array.isArray(n2) ? "array" : "") || ("obj" === e2 ? ce(a2 = Object.keys(t2).sort(), Object.keys(n2).sort()) || a2.some(function(e3) {
      return ce(t2[e3], n2[e3]);
    }) : "array" === e2 ? t2.length !== n2.length || t2.some(function(e3, t3) {
      return ce(e3, n2[t3]);
    }) : t2 !== n2);
  }
  function de(n2) {
    return n2 ? k(n2) ? Object.keys(n2).reduce(function(e2, t2) {
      return e2[t2] = de(n2[t2]), e2;
    }, {}) : Array.isArray(n2) ? n2.map(de) : n2 : n2;
  }
  function fe(e2) {
    var t2, n2, a2, i2 = 1, o2 = e2 = (e2 + "").trim();
    function l2(e3) {
      var t3 = 1, n3 = u.exec(e3);
      return n3 && (t3 = parseFloat(n3[1]), n3[2] ? t3 = 0 <= t3 && t3 <= 100 ? t3 / 100 : 1 : (t3 < 0 || 1 < t3) && (t3 = 1)), t3;
    }
    return (t2 = /^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e2)) ? (n2 = t2[1].toLowerCase(), a2 = t2[2].trim().split(/\s*,\s*/), "rgba" === n2 && 4 === a2.length ? (i2 = l2(a2[3]), o2 = "rgb(" + a2.slice(0, 3).join(", ") + ")") : "hsla" === n2 && 4 === a2.length ? (i2 = l2(a2[3]), o2 = "hsl(" + a2.slice(0, 3).join(", ") + ")") : "hwb" === n2 && 4 === a2.length ? (i2 = l2(a2[3]), o2 = "hwb(" + a2.slice(0, 3).join(", ") + ")") : "gray" === n2 && 2 === a2.length ? (i2 = l2(a2[1]), o2 = "gray(" + a2[0] + ")") : "device-cmyk" === n2 && 5 <= a2.length && (i2 = l2(a2[4]), o2 = "device-cmyk(" + a2.slice(0, 4).join(", ") + ")")) : (t2 = /^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e2)) ? t2[1] ? (i2 = parseInt(t2[2], 16) / 255, o2 = "#" + t2[1]) : (i2 = parseInt(t2[4] + t2[4], 16) / 255, o2 = "#" + t2[3]) : "transparent" === e2.toLocaleLowerCase() && (i2 = 0), [i2, o2];
  }
  function ye(e2) {
    return !(!e2 || e2.nodeType !== Node.ELEMENT_NODE || "function" != typeof e2.getBoundingClientRect);
  }
  function Se(e2, t2) {
    var n2, a2, i2, o2, l2 = {};
    if (!(i2 = e2.ownerDocument)) return console.error("Cannot get document that contains the element."), null;
    if (e2.compareDocumentPosition(i2) & Node.DOCUMENT_POSITION_DISCONNECTED) return console.error("A disconnected element was passed."), null;
    for (a2 in n2 = e2.getBoundingClientRect()) l2[a2] = n2[a2];
    if (!t2) {
      if (!(o2 = i2.defaultView)) return console.error("Cannot get window that contains the element."), null;
      l2.left += o2.pageXOffset, l2.right += o2.pageXOffset, l2.top += o2.pageYOffset, l2.bottom += o2.pageYOffset;
    }
    return l2;
  }
  function me(e2, t2) {
    var n2, a2, i2 = [], o2 = e2;
    for (t2 = t2 || window; ; ) {
      if (!(n2 = o2.ownerDocument)) return console.error("Cannot get document that contains the element."), null;
      if (!(a2 = n2.defaultView)) return console.error("Cannot get window that contains the element."), null;
      if (a2 === t2) break;
      if (!(o2 = a2.frameElement)) return console.error("`baseWindow` was not found."), null;
      i2.unshift(o2);
    }
    return i2;
  }
  function ge(e2, t2) {
    var n2, a2, o2 = 0, l2 = 0;
    return (a2 = me(e2, t2 = t2 || window)) ? a2.length ? (a2.forEach(function(e3, t3) {
      var n3, a3, i2 = Se(e3, 0 < t3);
      o2 += i2.left, l2 += i2.top, a3 = (n3 = e3).ownerDocument.defaultView.getComputedStyle(n3, ""), i2 = {
        left: n3.clientLeft + parseFloat(a3.paddingLeft),
        top: n3.clientTop + parseFloat(a3.paddingTop)
      }, o2 += i2.left, l2 += i2.top;
    }), (n2 = Se(e2, true)).left += o2, n2.right += o2, n2.top += l2, n2.bottom += l2, n2) : Se(e2) : null;
  }
  function _e(e2, t2) {
    var n2 = e2.x - t2.x, a2 = e2.y - t2.y;
    return Math.sqrt(n2 * n2 + a2 * a2);
  }
  function ve(e2, t2, n2) {
    var a2 = t2.x - e2.x, i2 = t2.y - e2.y;
    return {
      x: e2.x + a2 * n2,
      y: e2.y + i2 * n2,
      angle: Math.atan2(i2, a2) / (Math.PI / 180)
    };
  }
  function Ee(e2, t2, n2) {
    var a2 = Math.atan2(e2.y - t2.y, t2.x - e2.x);
    return {
      x: t2.x + Math.cos(a2) * n2,
      y: t2.y + Math.sin(a2) * n2 * -1
    };
  }
  function xe(e2, t2, n2, a2, i2) {
    var o2 = i2 * i2, l2 = o2 * i2, r2 = 1 - i2, s2 = r2 * r2, u2 = s2 * r2, h2 = u2 * e2.x + 3 * s2 * i2 * t2.x + 3 * r2 * o2 * n2.x + l2 * a2.x, p2 = u2 * e2.y + 3 * s2 * i2 * t2.y + 3 * r2 * o2 * n2.y + l2 * a2.y, c2 = e2.x + 2 * i2 * (t2.x - e2.x) + o2 * (n2.x - 2 * t2.x + e2.x), d2 = e2.y + 2 * i2 * (t2.y - e2.y) + o2 * (n2.y - 2 * t2.y + e2.y), f2 = t2.x + 2 * i2 * (n2.x - t2.x) + o2 * (a2.x - 2 * n2.x + t2.x), y2 = t2.y + 2 * i2 * (n2.y - t2.y) + o2 * (a2.y - 2 * n2.y + t2.y), S2 = r2 * e2.x + i2 * t2.x, m2 = r2 * e2.y + i2 * t2.y, g2 = r2 * n2.x + i2 * a2.x, _2 = r2 * n2.y + i2 * a2.y, v2 = 90 - 180 * Math.atan2(c2 - f2, d2 - y2) / Math.PI;
    return {
      x: h2,
      y: p2,
      fromP2: {
        x: c2,
        y: d2
      },
      toP1: {
        x: f2,
        y: y2
      },
      fromP1: {
        x: S2,
        y: m2
      },
      toP2: {
        x: g2,
        y: _2
      },
      angle: v2 += 180 < v2 ? -180 : 180
    };
  }
  function be(n2, a2, i2, o2, e2) {
    function l2(e3, t2, n3, a3, i3) {
      return e3 * (e3 * (-3 * t2 + 9 * n3 - 9 * a3 + 3 * i3) + 6 * t2 - 12 * n3 + 6 * a3) - 3 * t2 + 3 * n3;
    }
    var r2, s2, u2, h2, p2, c2 = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472], d2 = 0;
    return r2 = (e2 = null == e2 || 1 < e2 ? 1 : e2 < 0 ? 0 : e2) / 2, [-0.1252, 0.1252, -0.3678, 0.3678, -0.5873, 0.5873, -0.7699, 0.7699, -0.9041, 0.9041, -0.9816, 0.9816].forEach(function(e3, t2) {
      u2 = l2(s2 = r2 * e3 + r2, n2.x, a2.x, i2.x, o2.x), h2 = l2(s2, n2.y, a2.y, i2.y, o2.y), p2 = u2 * u2 + h2 * h2, d2 += c2[t2] * Math.sqrt(p2);
    }), r2 * d2;
  }
  function ke(e2, t2, n2, a2, i2) {
    for (var o2, l2 = 0.5, r2 = 1 - l2; o2 = be(e2, t2, n2, a2, r2), !(Math.abs(o2 - i2) <= 0.01); ) r2 += (o2 < i2 ? 1 : -1) * (l2 /= 2);
    return r2;
  }
  function we(e2, n2) {
    var a2;
    return e2.forEach(function(e3) {
      var t2 = n2 ? e3.map(function(e4) {
        var t3 = {
          x: e4.x,
          y: e4.y
        };
        return n2(t3), t3;
      }) : e3;
      a2 || (a2 = [{
        type: "M",
        values: [t2[0].x, t2[0].y]
      }]), a2.push(t2.length ? 2 === t2.length ? {
        type: "L",
        values: [t2[1].x, t2[1].y]
      } : {
        type: "C",
        values: [t2[1].x, t2[1].y, t2[2].x, t2[2].y, t2[3].x, t2[3].y]
      } : {
        type: "Z",
        values: []
      });
    }), a2;
  }
  function Oe(e2) {
    var n2 = [], a2 = 0;
    return e2.forEach(function(e3) {
      var t2 = (2 === e3.length ? _e : be).apply(null, e3);
      n2.push(t2), a2 += t2;
    }), {
      segsLen: n2,
      lenAll: a2
    };
  }
  function Me(e2, a2) {
    return null == e2 || null == a2 || e2.length !== a2.length || e2.some(function(e3, t2) {
      var n2 = a2[t2];
      return e3.type !== n2.type || e3.values.some(function(e4, t3) {
        return e4 !== n2.values[t3];
      });
    });
  }
  function Ie(e2, t2, n2) {
    e2.events[t2] ? e2.events[t2].indexOf(n2) < 0 && e2.events[t2].push(n2) : e2.events[t2] = [n2];
  }
  function Ce(e2, t2, n2) {
    var a2;
    e2.events[t2] && -1 < (a2 = e2.events[t2].indexOf(n2)) && e2.events[t2].splice(a2, 1);
  }
  function Le(e2) {
    t && clearTimeout(t), Q.push(e2), t = setTimeout(function() {
      Q.forEach(function(e3) {
        e3();
      }), Q = [];
    }, 0);
  }
  function Ae(e2, t2) {
    e2.reflowTargets.indexOf(t2) < 0 && e2.reflowTargets.push(t2);
  }
  function Ve(e2) {
    e2.reflowTargets.forEach(function(e3) {
      var n2;
      n2 = e3, setTimeout(function() {
        var e4 = n2.parentNode, t2 = n2.nextSibling;
        e4.insertBefore(e4.removeChild(n2), t2);
      }, 0);
    }), e2.reflowTargets = [];
  }
  function Pe(e2, t2, n2, a2, i2, o2, l2) {
    var r2, s2, u2;
    "auto-start-reverse" === n2 ? ("boolean" != typeof h && (t2.setAttribute("orient", "auto-start-reverse"), h = t2.orientType.baseVal === SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN), h ? t2.setAttribute("orient", n2) : ((r2 = i2.createSVGTransform()).setRotate(180, 0, 0), o2.transform.baseVal.appendItem(r2), t2.setAttribute("orient", "auto"), u2 = true)) : (t2.setAttribute("orient", n2), false === h && o2.transform.baseVal.clear()), s2 = t2.viewBox.baseVal, u2 ? (s2.x = -a2.right, s2.y = -a2.bottom) : (s2.x = a2.left, s2.y = a2.top), s2.width = a2.width, s2.height = a2.height, le && Ae(e2, l2);
  }
  function Ne(e2, t2) {
    return {
      prop: e2 ? "markerEnd" : "markerStart",
      orient: t2 ? t2.noRotate ? "0" : e2 ? "auto" : "auto-start-reverse" : null
    };
  }
  function Te(n2, a2) {
    Object.keys(a2).forEach(function(e2) {
      var t2 = a2[e2];
      n2[e2] = null != t2.iniValue ? t2.hasSE ? [t2.iniValue, t2.iniValue] : t2.iniValue : t2.hasSE ? t2.hasProps ? [{}, {}] : [] : t2.hasProps ? {} : null;
    });
  }
  function We(t2, e2, n2, a2, i2) {
    return a2 !== e2[n2] && (e2[n2] = a2, i2 && i2.forEach(function(e3) {
      e3(t2, a2, n2);
    }), true);
  }
  function Be(e2) {
    function t2(e3, t3) {
      return e3 + parseFloat(t3);
    }
    var n2 = e2.document, a2 = e2.getComputedStyle(n2.documentElement, ""), i2 = e2.getComputedStyle(n2.body, ""), o2 = {
      x: 0,
      y: 0
    };
    return "static" !== i2.position ? (o2.x -= [a2.marginLeft, a2.borderLeftWidth, a2.paddingLeft, i2.marginLeft, i2.borderLeftWidth].reduce(t2, 0), o2.y -= [a2.marginTop, a2.borderTopWidth, a2.paddingTop, i2.marginTop, i2.borderTopWidth].reduce(t2, 0)) : "static" !== a2.position && (o2.x -= [a2.marginLeft, a2.borderLeftWidth].reduce(t2, 0), o2.y -= [a2.marginTop, a2.borderTopWidth].reduce(t2, 0)), o2;
  }
  function Re(e2) {
    var t2, n2 = e2.document;
    n2.getElementById(r) || (t2 = new e2.DOMParser().parseFromString(s, "image/svg+xml"), n2.body.appendChild(t2.documentElement), d(e2));
  }
  function Fe(u2) {
    var _2, f2, v2, e2, n2, a2, i2, y2, s2, h2, p2, t2, o2, l2, r2, c2, d2, S2, m2, g2 = u2.options, E2 = u2.curStats, x2 = u2.aplStats, b2 = E2.position_socketXYSE, k2 = false;
    function w2(e3, t3) {
      var n3 = t3 === M ? {
        x: e3.left + e3.width / 2,
        y: e3.top
      } : t3 === I ? {
        x: e3.right,
        y: e3.top + e3.height / 2
      } : t3 === C ? {
        x: e3.left + e3.width / 2,
        y: e3.bottom
      } : {
        x: e3.left,
        y: e3.top + e3.height / 2
      };
      return n3.socketId = t3, n3;
    }
    function O2(e3) {
      return {
        x: e3.x,
        y: e3.y
      };
    }
    if (E2.position_path = g2.path, E2.position_lineStrokeWidth = E2.line_strokeWidth, E2.position_socketGravitySE = _2 = de(g2.socketGravitySE), f2 = [0, 1].map(function(e3) {
      var t3, n3, a3, i3 = g2.anchorSE[e3], o3 = u2.optionIsAttach.anchorSE[e3], l3 = false !== o3 ? $[i3._id] : null, r3 = false !== o3 && l3.conf.getStrokeWidth ? l3.conf.getStrokeWidth(l3, u2) : 0, s3 = false !== o3 && l3.conf.getBBoxNest ? l3.conf.getBBoxNest(l3, u2, r3) : ge(i3, u2.baseWindow);
      return E2.capsMaskAnchor_pathDataSE[e3] = false !== o3 && l3.conf.getPathData ? l3.conf.getPathData(l3, u2, r3) : (n3 = null != (t3 = s3).right ? t3.right : t3.left + t3.width, a3 = null != t3.bottom ? t3.bottom : t3.top + t3.height, [{
        type: "M",
        values: [t3.left, t3.top]
      }, {
        type: "L",
        values: [n3, t3.top]
      }, {
        type: "L",
        values: [n3, a3]
      }, {
        type: "L",
        values: [t3.left, a3]
      }, {
        type: "Z",
        values: []
      }]), E2.capsMaskAnchor_strokeWidthSE[e3] = r3, s3;
    }), i2 = -1, g2.socketSE[0] && g2.socketSE[1] ? (b2[0] = w2(f2[0], g2.socketSE[0]), b2[1] = w2(f2[1], g2.socketSE[1])) : (g2.socketSE[0] || g2.socketSE[1] ? (g2.socketSE[0] ? (n2 = 0, a2 = 1) : (n2 = 1, a2 = 0), b2[n2] = w2(f2[n2], g2.socketSE[n2]), (e2 = W.map(function(e3) {
      return w2(f2[a2], e3);
    })).forEach(function(e3) {
      var t3 = _e(e3, b2[n2]);
      (t3 < i2 || -1 === i2) && (b2[a2] = e3, i2 = t3);
    })) : (e2 = W.map(function(e3) {
      return w2(f2[1], e3);
    }), W.map(function(e3) {
      return w2(f2[0], e3);
    }).forEach(function(n3) {
      e2.forEach(function(e3) {
        var t3 = _e(n3, e3);
        (t3 < i2 || -1 === i2) && (b2[0] = n3, b2[1] = e3, i2 = t3);
      });
    })), [0, 1].forEach(function(e3) {
      var t3, n3;
      g2.socketSE[e3] || (f2[e3].width || f2[e3].height ? f2[e3].width || b2[e3].socketId !== L && b2[e3].socketId !== I ? f2[e3].height || b2[e3].socketId !== M && b2[e3].socketId !== C || (b2[e3].socketId = 0 <= b2[e3 ? 0 : 1].y - f2[e3].top ? C : M) : b2[e3].socketId = 0 <= b2[e3 ? 0 : 1].x - f2[e3].left ? I : L : (t3 = b2[e3 ? 0 : 1].x - f2[e3].left, n3 = b2[e3 ? 0 : 1].y - f2[e3].top, b2[e3].socketId = Math.abs(t3) >= Math.abs(n3) ? 0 <= t3 ? I : L : 0 <= n3 ? C : M));
    })), E2.position_path !== x2.position_path || E2.position_lineStrokeWidth !== x2.position_lineStrokeWidth || [0, 1].some(function(e3) {
      return E2.position_plugOverheadSE[e3] !== x2.position_plugOverheadSE[e3] || (i3 = b2[e3], o3 = x2.position_socketXYSE[e3], i3.x !== o3.x || i3.y !== o3.y || i3.socketId !== o3.socketId) || (t3 = _2[e3], n3 = x2.position_socketGravitySE[e3], (a3 = null == t3 ? "auto" : Array.isArray(t3) ? "array" : "number") !== (null == n3 ? "auto" : Array.isArray(n3) ? "array" : "number") || ("array" === a3 ? t3[0] !== n3[0] || t3[1] !== n3[1] : t3 !== n3));
      var t3, n3, a3, i3, o3;
    })) {
      switch (u2.pathList.baseVal = v2 = [], u2.pathList.animVal = null, E2.position_path) {
        case A:
          v2.push([O2(b2[0]), O2(b2[1])]);
          break;
        case V:
          t2 = "number" == typeof _2[0] && 0 < _2[0] || "number" == typeof _2[1] && 0 < _2[1], o2 = Z * (t2 ? -1 : 1), l2 = Math.atan2(b2[1].y - b2[0].y, b2[1].x - b2[0].x), r2 = -l2 + o2, c2 = Math.PI - l2 - o2, d2 = _e(b2[0], b2[1]) / Math.sqrt(2) * U, S2 = {
            x: b2[0].x + Math.cos(r2) * d2,
            y: b2[0].y + Math.sin(r2) * d2 * -1
          }, m2 = {
            x: b2[1].x + Math.cos(c2) * d2,
            y: b2[1].y + Math.sin(c2) * d2 * -1
          }, v2.push([O2(b2[0]), S2, m2, O2(b2[1])]);
          break;
        case P:
        case N:
          s2 = [_2[0], E2.position_path === N ? 0 : _2[1]], h2 = [], p2 = [], b2.forEach(function(e3, t3) {
            var n3, a3, i3, o3, l3, r3 = s2[t3];
            Array.isArray(r3) ? n3 = {
              x: r3[0],
              y: r3[1]
            } : "number" == typeof r3 ? n3 = e3.socketId === M ? {
              x: 0,
              y: -r3
            } : e3.socketId === I ? {
              x: r3,
              y: 0
            } : e3.socketId === C ? {
              x: 0,
              y: r3
            } : {
              x: -r3,
              y: 0
            } : (a3 = b2[t3 ? 0 : 1], o3 = 0 < (i3 = E2.position_plugOverheadSE[t3]) ? G + (D < i3 ? (i3 - D) * z : 0) : B + (E2.position_lineStrokeWidth > R ? (E2.position_lineStrokeWidth - R) * F : 0), e3.socketId === M ? ((l3 = (e3.y - a3.y) / 2) < o3 && (l3 = o3), n3 = {
              x: 0,
              y: -l3
            }) : e3.socketId === I ? ((l3 = (a3.x - e3.x) / 2) < o3 && (l3 = o3), n3 = {
              x: l3,
              y: 0
            }) : e3.socketId === C ? ((l3 = (a3.y - e3.y) / 2) < o3 && (l3 = o3), n3 = {
              x: 0,
              y: l3
            }) : ((l3 = (e3.x - a3.x) / 2) < o3 && (l3 = o3), n3 = {
              x: -l3,
              y: 0
            })), h2[t3] = e3.x + n3.x, p2[t3] = e3.y + n3.y;
          }), v2.push([O2(b2[0]), {
            x: h2[0],
            y: p2[0]
          }, {
            x: h2[1],
            y: p2[1]
          }, O2(b2[1])]);
          break;
        case T:
          !function() {
            var a3, o3 = 1, l3 = 2, r3 = 3, s3 = 4, u3 = [
              [],
              []
            ], h3 = [];
            function p3(e4) {
              return e4 === o3 ? r3 : e4 === l3 ? s3 : e4 === r3 ? o3 : l3;
            }
            function c3(e4) {
              return e4 === l3 || e4 === s3 ? "x" : "y";
            }
            function d3(e4, t3, n3) {
              var a4 = {
                x: e4.x,
                y: e4.y
              };
              if (n3) {
                if (n3 === p3(e4.dirId)) throw new Error("Invalid dirId: " + n3);
                a4.dirId = n3;
              } else a4.dirId = e4.dirId;
              return a4.dirId === o3 ? a4.y -= t3 : a4.dirId === l3 ? a4.x += t3 : a4.dirId === r3 ? a4.y += t3 : a4.x -= t3, a4;
            }
            function f3(e4, t3) {
              return t3.dirId === o3 ? e4.y <= t3.y : t3.dirId === l3 ? e4.x >= t3.x : t3.dirId === r3 ? e4.y >= t3.y : e4.x <= t3.x;
            }
            function y3(e4, t3) {
              return t3.dirId === o3 || t3.dirId === r3 ? e4.x === t3.x : e4.y === t3.y;
            }
            function S3(e4) {
              return e4[0] ? {
                contain: 0,
                notContain: 1
              } : {
                contain: 1,
                notContain: 0
              };
            }
            function m3(e4, t3, n3) {
              return Math.abs(t3[n3] - e4[n3]);
            }
            function g3(e4, t3, n3) {
              return "x" === n3 ? e4.x < t3.x ? l3 : s3 : e4.y < t3.y ? r3 : o3;
            }
            function e3() {
              var e4, t3, a4, i3, n3 = [f3(h3[1], h3[0]), f3(h3[0], h3[1])], o4 = [c3(h3[0].dirId), c3(h3[1].dirId)];
              if (o4[0] === o4[1]) {
                if (n3[0] && n3[1]) return y3(h3[1], h3[0]) || (h3[0][o4[0]] === h3[1][o4[1]] ? (u3[0].push(h3[0]), u3[1].push(h3[1])) : (e4 = h3[0][o4[0]] + (h3[1][o4[1]] - h3[0][o4[0]]) / 2, u3[0].push(d3(h3[0], Math.abs(e4 - h3[0][o4[0]]))), u3[1].push(d3(h3[1], Math.abs(e4 - h3[1][o4[1]]))))), false;
                n3[0] !== n3[1] ? (t3 = S3(n3), (a4 = m3(h3[t3.notContain], h3[t3.contain], o4[t3.notContain])) < H && (h3[t3.notContain] = d3(h3[t3.notContain], H - a4)), u3[t3.notContain].push(h3[t3.notContain]), h3[t3.notContain] = d3(h3[t3.notContain], H, y3(h3[t3.contain], h3[t3.notContain]) ? "x" === o4[t3.notContain] ? r3 : l3 : g3(h3[t3.notContain], h3[t3.contain], "x" === o4[t3.notContain] ? "y" : "x"))) : (a4 = m3(h3[0], h3[1], "x" === o4[0] ? "y" : "x"), u3.forEach(function(e5, t4) {
                  var n4 = 0 === t4 ? 1 : 0;
                  e5.push(h3[t4]), h3[t4] = d3(h3[t4], H, 2 * H <= a4 ? g3(h3[t4], h3[n4], "x" === o4[t4] ? "y" : "x") : "x" === o4[t4] ? r3 : l3);
                }));
              } else {
                if (n3[0] && n3[1]) return y3(h3[1], h3[0]) ? u3[1].push(h3[1]) : y3(h3[0], h3[1]) ? u3[0].push(h3[0]) : u3[0].push("x" === o4[0] ? {
                  x: h3[1].x,
                  y: h3[0].y
                } : {
                  x: h3[0].x,
                  y: h3[1].y
                }), false;
                n3[0] !== n3[1] ? (t3 = S3(n3), u3[t3.notContain].push(h3[t3.notContain]), h3[t3.notContain] = d3(h3[t3.notContain], H, m3(h3[t3.notContain], h3[t3.contain], o4[t3.contain]) >= H ? g3(h3[t3.notContain], h3[t3.contain], o4[t3.contain]) : h3[t3.contain].dirId)) : (i3 = [{
                  x: h3[0].x,
                  y: h3[0].y
                }, {
                  x: h3[1].x,
                  y: h3[1].y
                }], u3.forEach(function(e5, t4) {
                  var n4 = 0 === t4 ? 1 : 0, a5 = m3(i3[t4], i3[n4], o4[t4]);
                  a5 < H && (h3[t4] = d3(h3[t4], H - a5)), e5.push(h3[t4]), h3[t4] = d3(h3[t4], H, g3(h3[t4], h3[n4], o4[n4]));
                }));
              }
              return true;
            }
            for (b2.forEach(function(e4, t3) {
              var n3, a4 = O2(e4), i3 = _2[t3];
              n3 = Array.isArray(i3) ? i3[0] < 0 ? [s3, -i3[0]] : 0 < i3[0] ? [l3, i3[0]] : i3[1] < 0 ? [o3, -i3[1]] : 0 < i3[1] ? [r3, i3[1]] : [e4.socketId, 0] : "number" != typeof i3 ? [e4.socketId, H] : 0 <= i3 ? [e4.socketId, i3] : [p3(e4.socketId), -i3], a4.dirId = n3[0], i3 = n3[1], u3[t3].push(a4), h3[t3] = d3(a4, i3);
            }); e3(); ) ;
            u3[1].reverse(), u3[0].concat(u3[1]).forEach(function(e4, t3) {
              var n3 = {
                x: e4.x,
                y: e4.y
              };
              0 < t3 && v2.push([a3, n3]), a3 = n3;
            });
          }();
      }
      y2 = [], E2.position_plugOverheadSE.forEach(function(e3, t3) {
        var n3, a3, i3, o3, l3, r3, s3, u3, h3, p3, c3, d3 = !t3;
        0 < e3 ? 2 === (n3 = v2[a3 = d3 ? 0 : v2.length - 1]).length ? (y2[a3] = y2[a3] || _e.apply(null, n3), y2[a3] > j && (y2[a3] - e3 < j && (e3 = y2[a3] - j), i3 = ve(n3[0], n3[1], (d3 ? e3 : y2[a3] - e3) / y2[a3]), v2[a3] = d3 ? [i3, n3[1]] : [n3[0], i3], y2[a3] -= e3)) : (y2[a3] = y2[a3] || be.apply(null, n3), y2[a3] > j && (y2[a3] - e3 < j && (e3 = y2[a3] - j), i3 = xe(n3[0], n3[1], n3[2], n3[3], ke(n3[0], n3[1], n3[2], n3[3], d3 ? e3 : y2[a3] - e3)), d3 ? (o3 = n3[0], l3 = i3.toP1) : (o3 = n3[3], l3 = i3.fromP2), r3 = Math.atan2(o3.y - i3.y, i3.x - o3.x), s3 = _e(i3, l3), i3.x = o3.x + Math.cos(r3) * e3, i3.y = o3.y + Math.sin(r3) * e3 * -1, l3.x = i3.x + Math.cos(r3) * s3, l3.y = i3.y + Math.sin(r3) * s3 * -1, v2[a3] = d3 ? [i3, i3.toP1, i3.toP2, n3[3]] : [n3[0], i3.fromP1, i3.fromP2, i3], y2[a3] = null)) : e3 < 0 && (n3 = v2[a3 = d3 ? 0 : v2.length - 1], u3 = b2[t3].socketId, h3 = u3 === L || u3 === I ? "x" : "y", e3 < (c3 = -f2[t3]["x" === h3 ? "width" : "height"]) && (e3 = c3), p3 = e3 * (u3 === L || u3 === M ? -1 : 1), 2 === n3.length ? n3[d3 ? 0 : n3.length - 1][h3] += p3 : (d3 ? [0, 1] : [n3.length - 2, n3.length - 1]).forEach(function(e4) {
          n3[e4][h3] += p3;
        }), y2[a3] = null);
      }), x2.position_socketXYSE = de(b2), x2.position_plugOverheadSE = de(E2.position_plugOverheadSE), x2.position_path = E2.position_path, x2.position_lineStrokeWidth = E2.position_lineStrokeWidth, x2.position_socketGravitySE = de(_2), k2 = true, u2.events.apl_position && u2.events.apl_position.forEach(function(e3) {
        e3(u2, v2);
      });
    }
    return k2;
  }
  function Ge(t2, n2) {
    n2 !== t2.isShown && (!!n2 != !!t2.isShown && (t2.svg.style.visibility = n2 ? "" : "hidden"), t2.isShown = n2, t2.events && t2.events.svgShow && t2.events.svgShow.forEach(function(e2) {
      e2(t2, n2);
    }));
  }
  function De(e2, t2) {
    var n2, a2, i2, o2, l2, h2, p2, c2, d2, f2, r2, s2, u2, y2, S2, m2, g2, _2, v2, E2, x2, b2, k2, w2, O2, M2, I2, C2, L2, A2, V2, P2, N2, T2, W2, B2, R2, F2, G2, D2, z2, j2, H2, U2, Z2, Y2, X2, q2, Q2, K2, J2, $2, ee2 = {};
    t2.line && (ee2.line = (a2 = (n2 = e2).options, i2 = n2.curStats, o2 = n2.events, l2 = false, l2 = We(n2, i2, "line_color", a2.lineColor, o2.cur_line_color) || l2, l2 = We(n2, i2, "line_colorTra", fe(i2.line_color)[0] < 1) || l2, l2 = We(n2, i2, "line_strokeWidth", a2.lineSize, o2.cur_line_strokeWidth) || l2)), (t2.plug || ee2.line) && (ee2.plug = (p2 = (h2 = e2).options, c2 = h2.curStats, d2 = h2.events, f2 = false, [0, 1].forEach(function(e3) {
      var t3, n3, a3, i3, o3, l3, r3, s3, u3 = p2.plugSE[e3];
      f2 = We(h2, c2.plug_enabledSE, e3, u3 !== ne) || f2, f2 = We(h2, c2.plug_plugSE, e3, u3) || f2, f2 = We(h2, c2.plug_colorSE, e3, s3 = p2.plugColorSE[e3] || c2.line_color, d2.cur_plug_colorSE) || f2, f2 = We(h2, c2.plug_colorTraSE, e3, fe(s3)[0] < 1) || f2, u3 !== ne && (i3 = n3 = (t3 = ae[ie[u3]]).widthR * p2.plugSizeSE[e3], o3 = a3 = t3.heightR * p2.plugSizeSE[e3], ue && (i3 *= c2.line_strokeWidth, o3 *= c2.line_strokeWidth), f2 = We(h2, c2.plug_markerWidthSE, e3, i3) || f2, f2 = We(h2, c2.plug_markerHeightSE, e3, o3) || f2, c2.capsMaskMarker_markerWidthSE[e3] = n3, c2.capsMaskMarker_markerHeightSE[e3] = a3), c2.plugOutline_plugSE[e3] = c2.capsMaskMarker_plugSE[e3] = u3, c2.plug_enabledSE[e3] ? (s3 = c2.line_strokeWidth / pe.lineSize * p2.plugSizeSE[e3], c2.position_plugOverheadSE[e3] = t3.overhead * s3, c2.viewBox_plugBCircleSE[e3] = t3.bCircle * s3, l3 = t3.sideLen * s3, r3 = t3.backLen * s3) : (c2.position_plugOverheadSE[e3] = -c2.line_strokeWidth / 2, c2.viewBox_plugBCircleSE[e3] = l3 = r3 = 0), We(h2, c2.attach_plugSideLenSE, e3, l3, d2.cur_attach_plugSideLenSE), We(h2, c2.attach_plugBackLenSE, e3, r3, d2.cur_attach_plugBackLenSE), c2.capsMaskAnchor_enabledSE[e3] = !c2.plug_enabledSE[e3];
    }), f2 = We(h2, c2, "plug_enabled", c2.plug_enabledSE[0] || c2.plug_enabledSE[1]) || f2)), (t2.lineOutline || ee2.line) && (ee2.lineOutline = (u2 = (r2 = e2).options, y2 = r2.curStats, S2 = false, S2 = We(r2, y2, "lineOutline_enabled", u2.lineOutlineEnabled) || S2, S2 = We(r2, y2, "lineOutline_color", u2.lineOutlineColor) || S2, S2 = We(r2, y2, "lineOutline_colorTra", fe(y2.lineOutline_color)[0] < 1) || S2, s2 = y2.line_strokeWidth * u2.lineOutlineSize, S2 = We(r2, y2, "lineOutline_strokeWidth", y2.line_strokeWidth - 2 * s2) || S2, S2 = We(r2, y2, "lineOutline_inStrokeWidth", y2.lineOutline_colorTra ? y2.lineOutline_strokeWidth + 2 * he : y2.line_strokeWidth - s2) || S2)), (t2.plugOutline || ee2.line || ee2.plug || ee2.lineOutline) && (ee2.plugOutline = (g2 = (m2 = e2).options, _2 = m2.curStats, v2 = false, [0, 1].forEach(function(e3) {
      var t3, n3 = _2.plugOutline_plugSE[e3], a3 = n3 !== ne ? ae[ie[n3]] : null;
      v2 = We(m2, _2.plugOutline_enabledSE, e3, g2.plugOutlineEnabledSE[e3] && _2.plug_enabled && _2.plug_enabledSE[e3] && !!a3 && !!a3.outlineBase) || v2, v2 = We(m2, _2.plugOutline_colorSE, e3, t3 = g2.plugOutlineColorSE[e3] || _2.lineOutline_color) || v2, v2 = We(m2, _2.plugOutline_colorTraSE, e3, fe(t3)[0] < 1) || v2, a3 && a3.outlineBase && ((t3 = g2.plugOutlineSizeSE[e3]) > a3.outlineMax && (t3 = a3.outlineMax), t3 *= 2 * a3.outlineBase, v2 = We(m2, _2.plugOutline_strokeWidthSE, e3, t3) || v2, v2 = We(m2, _2.plugOutline_inStrokeWidthSE, e3, _2.plugOutline_colorTraSE[e3] ? t3 - he / (_2.line_strokeWidth / pe.lineSize) / g2.plugSizeSE[e3] * 2 : t3 / 2) || v2);
    }), v2)), (t2.faces || ee2.line || ee2.plug || ee2.lineOutline || ee2.plugOutline) && (ee2.faces = (b2 = (E2 = e2).curStats, k2 = E2.aplStats, w2 = E2.events, O2 = false, !b2.line_altColor && We(E2, k2, "line_color", x2 = b2.line_color, w2.apl_line_color) && (E2.lineFace.style.stroke = x2, O2 = true), We(E2, k2, "line_strokeWidth", x2 = b2.line_strokeWidth, w2.apl_line_strokeWidth) && (E2.lineShape.style.strokeWidth = x2 + "px", O2 = true, (re || le) && (Ae(E2, E2.lineShape), le && (Ae(E2, E2.lineFace), Ae(E2, E2.lineMaskCaps)))), We(E2, k2, "lineOutline_enabled", x2 = b2.lineOutline_enabled, w2.apl_lineOutline_enabled) && (E2.lineOutlineFace.style.display = x2 ? "inline" : "none", O2 = true), b2.lineOutline_enabled && (We(E2, k2, "lineOutline_color", x2 = b2.lineOutline_color, w2.apl_lineOutline_color) && (E2.lineOutlineFace.style.stroke = x2, O2 = true), We(E2, k2, "lineOutline_strokeWidth", x2 = b2.lineOutline_strokeWidth, w2.apl_lineOutline_strokeWidth) && (E2.lineOutlineMaskShape.style.strokeWidth = x2 + "px", O2 = true, le && (Ae(E2, E2.lineOutlineMaskCaps), Ae(E2, E2.lineOutlineFace))), We(E2, k2, "lineOutline_inStrokeWidth", x2 = b2.lineOutline_inStrokeWidth, w2.apl_lineOutline_inStrokeWidth) && (E2.lineMaskShape.style.strokeWidth = x2 + "px", O2 = true, le && (Ae(E2, E2.lineOutlineMaskCaps), Ae(E2, E2.lineOutlineFace)))), We(E2, k2, "plug_enabled", x2 = b2.plug_enabled, w2.apl_plug_enabled) && (E2.plugsFace.style.display = x2 ? "inline" : "none", O2 = true), b2.plug_enabled && [0, 1].forEach(function(n3) {
      var e3 = b2.plug_plugSE[n3], t3 = e3 !== ne ? ae[ie[e3]] : null, a3 = Ne(n3, t3);
      We(E2, k2.plug_enabledSE, n3, x2 = b2.plug_enabledSE[n3], w2.apl_plug_enabledSE) && (E2.plugsFace.style[a3.prop] = x2 ? "url(#" + E2.plugMarkerIdSE[n3] + ")" : "none", O2 = true), b2.plug_enabledSE[n3] && (We(E2, k2.plug_plugSE, n3, e3, w2.apl_plug_plugSE) && (E2.plugFaceSE[n3].href.baseVal = "#" + t3.elmId, Pe(E2, E2.plugMarkerSE[n3], a3.orient, t3.bBox, E2.svg, E2.plugMarkerShapeSE[n3], E2.plugsFace), O2 = true, re && Ae(E2, E2.plugsFace)), We(E2, k2.plug_colorSE, n3, x2 = b2.plug_colorSE[n3], w2.apl_plug_colorSE) && (E2.plugFaceSE[n3].style.fill = x2, O2 = true, (se || ue || le) && !b2.line_colorTra && Ae(E2, le ? E2.lineMaskCaps : E2.capsMaskLine)), ["markerWidth", "markerHeight"].forEach(function(e4) {
        var t4 = "plug_" + e4 + "SE";
        We(E2, k2[t4], n3, x2 = b2[t4][n3], w2["apl_" + t4]) && (E2.plugMarkerSE[n3][e4].baseVal.value = x2, O2 = true);
      }), We(E2, k2.plugOutline_enabledSE, n3, x2 = b2.plugOutline_enabledSE[n3], w2.apl_plugOutline_enabledSE) && (x2 ? (E2.plugFaceSE[n3].style.mask = "url(#" + E2.plugMaskIdSE[n3] + ")", E2.plugOutlineFaceSE[n3].style.display = "inline") : (E2.plugFaceSE[n3].style.mask = "none", E2.plugOutlineFaceSE[n3].style.display = "none"), O2 = true), b2.plugOutline_enabledSE[n3] && (We(E2, k2.plugOutline_plugSE, n3, e3, w2.apl_plugOutline_plugSE) && (E2.plugOutlineFaceSE[n3].href.baseVal = E2.plugMaskShapeSE[n3].href.baseVal = E2.plugOutlineMaskShapeSE[n3].href.baseVal = "#" + t3.elmId, [E2.plugMaskSE[n3], E2.plugOutlineMaskSE[n3]].forEach(function(e4) {
        e4.x.baseVal.value = t3.bBox.left, e4.y.baseVal.value = t3.bBox.top, e4.width.baseVal.value = t3.bBox.width, e4.height.baseVal.value = t3.bBox.height;
      }), O2 = true), We(E2, k2.plugOutline_colorSE, n3, x2 = b2.plugOutline_colorSE[n3], w2.apl_plugOutline_colorSE) && (E2.plugOutlineFaceSE[n3].style.fill = x2, O2 = true, le && (Ae(E2, E2.lineMaskCaps), Ae(E2, E2.lineOutlineMaskCaps))), We(E2, k2.plugOutline_strokeWidthSE, n3, x2 = b2.plugOutline_strokeWidthSE[n3], w2.apl_plugOutline_strokeWidthSE) && (E2.plugOutlineMaskShapeSE[n3].style.strokeWidth = x2 + "px", O2 = true), We(E2, k2.plugOutline_inStrokeWidthSE, n3, x2 = b2.plugOutline_inStrokeWidthSE[n3], w2.apl_plugOutline_inStrokeWidthSE) && (E2.plugMaskShapeSE[n3].style.strokeWidth = x2 + "px", O2 = true)));
    }), O2)), (t2.position || ee2.line || ee2.plug) && (ee2.position = Fe(e2)), (t2.path || ee2.position) && (ee2.path = (C2 = (M2 = e2).curStats, L2 = M2.aplStats, A2 = M2.pathList.animVal || M2.pathList.baseVal, V2 = C2.path_edge, P2 = false, A2 && (V2.x1 = V2.x2 = A2[0][0].x, V2.y1 = V2.y2 = A2[0][0].y, C2.path_pathData = I2 = we(A2, function(e3) {
      e3.x < V2.x1 && (V2.x1 = e3.x), e3.y < V2.y1 && (V2.y1 = e3.y), e3.x > V2.x2 && (V2.x2 = e3.x), e3.y > V2.y2 && (V2.y2 = e3.y);
    }), Me(I2, L2.path_pathData) && (M2.linePath.setPathData(I2), L2.path_pathData = I2, P2 = true, le ? (Ae(M2, M2.plugsFace), Ae(M2, M2.lineMaskCaps)) : re && Ae(M2, M2.linePath), M2.events.apl_path && M2.events.apl_path.forEach(function(e3) {
      e3(M2, I2);
    }))), P2)), ee2.viewBox = (B2 = (N2 = e2).curStats, R2 = N2.aplStats, F2 = B2.path_edge, G2 = B2.viewBox_bBox, D2 = R2.viewBox_bBox, z2 = N2.svg.viewBox.baseVal, j2 = N2.svg.style, H2 = false, T2 = Math.max(B2.line_strokeWidth / 2, B2.viewBox_plugBCircleSE[0] || 0, B2.viewBox_plugBCircleSE[1] || 0), W2 = {
      x1: F2.x1 - T2,
      y1: F2.y1 - T2,
      x2: F2.x2 + T2,
      y2: F2.y2 + T2
    }, N2.events.new_edge4viewBox && N2.events.new_edge4viewBox.forEach(function(e3) {
      e3(N2, W2);
    }), G2.x = B2.lineMask_x = B2.lineOutlineMask_x = B2.maskBGRect_x = W2.x1, G2.y = B2.lineMask_y = B2.lineOutlineMask_y = B2.maskBGRect_y = W2.y1, G2.width = W2.x2 - W2.x1, G2.height = W2.y2 - W2.y1, ["x", "y", "width", "height"].forEach(function(e3) {
      var t3;
      (t3 = G2[e3]) !== D2[e3] && (z2[e3] = D2[e3] = t3, j2[oe[e3]] = t3 + ("x" === e3 || "y" === e3 ? N2.bodyOffset[e3] : 0) + "px", H2 = true);
    }), H2), ee2.mask = (Y2 = (U2 = e2).curStats, X2 = U2.aplStats, q2 = false, Y2.plug_enabled ? [0, 1].forEach(function(e3) {
      Y2.capsMaskMarker_enabledSE[e3] = Y2.plug_enabledSE[e3] && Y2.plug_colorTraSE[e3] || Y2.plugOutline_enabledSE[e3] && Y2.plugOutline_colorTraSE[e3];
    }) : Y2.capsMaskMarker_enabledSE[0] = Y2.capsMaskMarker_enabledSE[1] = false, Y2.capsMaskMarker_enabled = Y2.capsMaskMarker_enabledSE[0] || Y2.capsMaskMarker_enabledSE[1], Y2.lineMask_outlineMode = Y2.lineOutline_enabled, Y2.caps_enabled = Y2.capsMaskMarker_enabled || Y2.capsMaskAnchor_enabledSE[0] || Y2.capsMaskAnchor_enabledSE[1], Y2.lineMask_enabled = Y2.caps_enabled || Y2.lineMask_outlineMode, (Y2.lineMask_enabled && !Y2.lineMask_outlineMode || Y2.lineOutline_enabled) && ["x", "y"].forEach(function(e3) {
      var t3 = "maskBGRect_" + e3;
      We(U2, X2, t3, Z2 = Y2[t3]) && (U2.maskBGRect[e3].baseVal.value = Z2, q2 = true);
    }), We(U2, X2, "lineMask_enabled", Z2 = Y2.lineMask_enabled) && (U2.lineFace.style.mask = Z2 ? "url(#" + U2.lineMaskId + ")" : "none", q2 = true, ue && Ae(U2, U2.lineMask)), Y2.lineMask_enabled && (We(U2, X2, "lineMask_outlineMode", Z2 = Y2.lineMask_outlineMode) && (Z2 ? (U2.lineMaskBG.style.display = "none", U2.lineMaskShape.style.display = "inline") : (U2.lineMaskBG.style.display = "inline", U2.lineMaskShape.style.display = "none"), q2 = true), ["x", "y"].forEach(function(e3) {
      var t3 = "lineMask_" + e3;
      We(U2, X2, t3, Z2 = Y2[t3]) && (U2.lineMask[e3].baseVal.value = Z2, q2 = true);
    }), We(U2, X2, "caps_enabled", Z2 = Y2.caps_enabled) && (U2.lineMaskCaps.style.display = U2.lineOutlineMaskCaps.style.display = Z2 ? "inline" : "none", q2 = true, ue && Ae(U2, U2.capsMaskLine)), Y2.caps_enabled && ([0, 1].forEach(function(e3) {
      var t3;
      We(U2, X2.capsMaskAnchor_enabledSE, e3, Z2 = Y2.capsMaskAnchor_enabledSE[e3]) && (U2.capsMaskAnchorSE[e3].style.display = Z2 ? "inline" : "none", q2 = true, ue && Ae(U2, U2.lineMask)), Y2.capsMaskAnchor_enabledSE[e3] && (Me(t3 = Y2.capsMaskAnchor_pathDataSE[e3], X2.capsMaskAnchor_pathDataSE[e3]) && (U2.capsMaskAnchorSE[e3].setPathData(t3), X2.capsMaskAnchor_pathDataSE[e3] = t3, q2 = true), We(U2, X2.capsMaskAnchor_strokeWidthSE, e3, Z2 = Y2.capsMaskAnchor_strokeWidthSE[e3]) && (U2.capsMaskAnchorSE[e3].style.strokeWidth = Z2 + "px", q2 = true));
    }), We(U2, X2, "capsMaskMarker_enabled", Z2 = Y2.capsMaskMarker_enabled) && (U2.capsMaskLine.style.display = Z2 ? "inline" : "none", q2 = true), Y2.capsMaskMarker_enabled && [0, 1].forEach(function(n3) {
      var e3 = Y2.capsMaskMarker_plugSE[n3], t3 = e3 !== ne ? ae[ie[e3]] : null, a3 = Ne(n3, t3);
      We(U2, X2.capsMaskMarker_enabledSE, n3, Z2 = Y2.capsMaskMarker_enabledSE[n3]) && (U2.capsMaskLine.style[a3.prop] = Z2 ? "url(#" + U2.lineMaskMarkerIdSE[n3] + ")" : "none", q2 = true), Y2.capsMaskMarker_enabledSE[n3] && (We(U2, X2.capsMaskMarker_plugSE, n3, e3) && (U2.capsMaskMarkerShapeSE[n3].href.baseVal = "#" + t3.elmId, Pe(U2, U2.capsMaskMarkerSE[n3], a3.orient, t3.bBox, U2.svg, U2.capsMaskMarkerShapeSE[n3], U2.capsMaskLine), q2 = true, re && (Ae(U2, U2.capsMaskLine), Ae(U2, U2.lineFace))), ["markerWidth", "markerHeight"].forEach(function(e4) {
        var t4 = "capsMaskMarker_" + e4 + "SE";
        We(U2, X2[t4], n3, Z2 = Y2[t4][n3]) && (U2.capsMaskMarkerSE[n3][e4].baseVal.value = Z2, q2 = true);
      }));
    }))), Y2.lineOutline_enabled && ["x", "y"].forEach(function(e3) {
      var t3 = "lineOutlineMask_" + e3;
      We(U2, X2, t3, Z2 = Y2[t3]) && (U2.lineOutlineMask[e3].baseVal.value = Z2, q2 = true);
    }), q2), t2.effect && (J2 = (Q2 = e2).curStats, $2 = Q2.aplStats, Object.keys(te).forEach(function(e3) {
      var t3 = te[e3], n3 = e3 + "_enabled", a3 = e3 + "_options", i3 = J2[a3];
      We(Q2, $2, n3, K2 = J2[n3]) ? (K2 && ($2[a3] = de(i3)), t3[K2 ? "init" : "remove"](Q2)) : K2 && ce(i3, $2[a3]) && (t3.remove(Q2), $2[n3] = true, $2[a3] = de(i3), t3.init(Q2));
    })), (se || ue) && ee2.line && !ee2.path && Ae(e2, e2.lineShape), se && ee2.plug && !ee2.line && Ae(e2, e2.plugsFace), Ve(e2);
  }
  function ze(e2, t2) {
    return {
      duration: w(e2.duration) && 0 < e2.duration ? e2.duration : t2.duration,
      timing: c.validTiming(e2.timing) ? e2.timing : de(t2.timing)
    };
  }
  function je(e2, t2, n2, a2) {
    var i2, o2 = e2.curStats, l2 = e2.aplStats, r2 = {};
    function s2() {
      ["show_on", "show_effect", "show_animOptions"].forEach(function(e3) {
        l2[e3] = o2[e3];
      });
    }
    o2.show_on = t2, n2 && g[n2] && (o2.show_effect = n2, o2.show_animOptions = ze(k(a2) ? a2 : {}, g[n2].defaultAnimOptions)), r2.show_on = o2.show_on !== l2.show_on, r2.show_effect = o2.show_effect !== l2.show_effect, r2.show_animOptions = ce(o2.show_animOptions, l2.show_animOptions), r2.show_effect || r2.show_animOptions ? o2.show_inAnim ? (i2 = r2.show_effect ? g[l2.show_effect].stop(e2, true, true) : g[l2.show_effect].stop(e2), s2(), g[l2.show_effect].init(e2, i2)) : r2.show_on && (l2.show_effect && r2.show_effect && g[l2.show_effect].stop(e2, true, true), s2(), g[l2.show_effect].init(e2)) : r2.show_on && (s2(), g[l2.show_effect].start(e2));
  }
  function He(e2, t2, n2) {
    var a2 = {
      props: e2,
      optionName: n2
    };
    return !(!(e2.attachments.indexOf(t2) < 0) || t2.conf.bind && !t2.conf.bind(t2, a2)) && (e2.attachments.push(t2), t2.boundTargets.push(a2), true);
  }
  function Ue(n2, a2, e2) {
    var i2 = n2.attachments.indexOf(a2);
    -1 < i2 && n2.attachments.splice(i2, 1), a2.boundTargets.some(function(e3, t2) {
      return e3.props === n2 && (a2.conf.unbind && a2.conf.unbind(a2, e3), i2 = t2, true);
    }) && (a2.boundTargets.splice(i2, 1), e2 || Le(function() {
      a2.boundTargets.length || o(a2);
    }));
  }
  function Ze(s2, u2) {
    var e2, i2, h2 = s2.options, p2 = {};
    function f2(e3, t2, n2, a2, i3) {
      var o2 = {};
      return n2 ? null != a2 ? (o2.container = e3[n2], o2.key = a2) : (o2.container = e3, o2.key = n2) : (o2.container = e3, o2.key = t2), o2.default = i3, o2.acceptsAuto = null == o2.default, o2;
    }
    function c2(e3, t2, n2, a2, i3, o2, l2) {
      var r2, s3, u3, h3 = f2(e3, n2, i3, o2, l2);
      return null != t2[n2] && (s3 = (t2[n2] + "").toLowerCase()) && (h3.acceptsAuto && s3 === x || (u3 = a2[s3])) && u3 !== h3.container[h3.key] && (h3.container[h3.key] = u3, r2 = true), null != h3.container[h3.key] || h3.acceptsAuto || (h3.container[h3.key] = h3.default, r2 = true), r2;
    }
    function d2(e3, t2, n2, a2, i3, o2, l2, r2, s3) {
      var u3, h3, p3, c3, d3 = f2(e3, n2, i3, o2, l2);
      if (!a2) {
        if (null == d3.default) throw new Error("Invalid `type`: " + n2);
        a2 = typeof d3.default;
      }
      return null != t2[n2] && (d3.acceptsAuto && (t2[n2] + "").toLowerCase() === x || (p3 = h3 = t2[n2], ("number" === (c3 = a2) ? w(p3) : typeof p3 === c3) && (h3 = s3 && "string" === a2 && h3 ? h3.trim() : h3, 1) && (!r2 || r2(h3)))) && h3 !== d3.container[d3.key] && (d3.container[d3.key] = h3, u3 = true), null != d3.container[d3.key] || d3.acceptsAuto || (d3.container[d3.key] = d3.default, u3 = true), u3;
    }
    if (u2 = u2 || {}, ["start", "end"].forEach(function(e3, t2) {
      var n2 = u2[e3], a2 = false;
      if (n2 && (ye(n2) || (a2 = _(n2, "anchor"))) && n2 !== h2.anchorSE[t2]) {
        if (false !== s2.optionIsAttach.anchorSE[t2] && Ue(s2, $[h2.anchorSE[t2]._id]), a2 && !He(s2, $[n2._id], e3)) throw new Error("Can't bind attachment");
        h2.anchorSE[t2] = n2, s2.optionIsAttach.anchorSE[t2] = a2, i2 = p2.position = true;
      }
    }), !h2.anchorSE[0] || !h2.anchorSE[1] || h2.anchorSE[0] === h2.anchorSE[1]) throw new Error("`start` and `end` are required.");
    i2 && (e2 = function(e3, t2) {
      var n2, a2, i3;
      if (!(n2 = me(e3)) || !(a2 = me(t2))) throw new Error("Cannot get frames.");
      return n2.length && a2.length && (n2.reverse(), a2.reverse(), n2.some(function(t3) {
        return a2.some(function(e4) {
          return e4 === t3 && (i3 = e4.contentWindow, true);
        });
      })), i3 || window;
    }(false !== s2.optionIsAttach.anchorSE[0] ? $[h2.anchorSE[0]._id].element : h2.anchorSE[0], false !== s2.optionIsAttach.anchorSE[1] ? $[h2.anchorSE[1]._id].element : h2.anchorSE[1])) !== s2.baseWindow && (!function(a2, e3) {
      var t2, n2, i3, o2, l2, r2, s3, u3, h3, p3, c3 = a2.aplStats, d3 = e3.document, f3 = v + "-" + a2._id;
      function y2(e4) {
        var t3 = n2.appendChild(d3.createElementNS(b, "mask"));
        return t3.id = e4, t3.maskUnits.baseVal = SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE, [t3.x, t3.y, t3.width, t3.height].forEach(function(e5) {
          e5.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, 0);
        }), t3;
      }
      function S2(e4) {
        var t3 = n2.appendChild(d3.createElementNS(b, "marker"));
        return t3.id = e4, t3.markerUnits.baseVal = SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH, t3.viewBox.baseVal || t3.setAttribute("viewBox", "0 0 0 0"), t3;
      }
      function m2(e4) {
        return [e4.width, e4.height].forEach(function(e5) {
          e5.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE, 100);
        }), e4;
      }
      a2.pathList = {}, Te(c3, Y), Object.keys(te).forEach(function(e4) {
        var t3 = e4 + "_enabled";
        c3[t3] && (te[e4].remove(a2), c3[t3] = false);
      }), a2.baseWindow && a2.svg && a2.baseWindow.document.body.removeChild(a2.svg), Re(a2.baseWindow = e3), a2.bodyOffset = Be(e3), a2.svg = t2 = d3.createElementNS(b, "svg"), t2.className.baseVal = v, t2.viewBox.baseVal || t2.setAttribute("viewBox", "0 0 0 0"), a2.defs = n2 = t2.appendChild(d3.createElementNS(b, "defs")), a2.linePath = o2 = n2.appendChild(d3.createElementNS(b, "path")), o2.id = l2 = f3 + "-line-path", o2.className.baseVal = v + "-line-path", ue && (o2.style.fill = "none"), a2.lineShape = o2 = n2.appendChild(d3.createElementNS(b, "use")), o2.id = r2 = f3 + "-line-shape", o2.href.baseVal = "#" + l2, (i3 = n2.appendChild(d3.createElementNS(b, "g"))).id = s3 = f3 + "-caps", a2.capsMaskAnchorSE = [0, 1].map(function() {
        var e4 = i3.appendChild(d3.createElementNS(b, "path"));
        return e4.className.baseVal = v + "-caps-mask-anchor", e4;
      }), a2.lineMaskMarkerIdSE = [f3 + "-caps-mask-marker-0", f3 + "-caps-mask-marker-1"], a2.capsMaskMarkerSE = [0, 1].map(function(e4) {
        return S2(a2.lineMaskMarkerIdSE[e4]);
      }), a2.capsMaskMarkerShapeSE = [0, 1].map(function(e4) {
        var t3 = a2.capsMaskMarkerSE[e4].appendChild(d3.createElementNS(b, "use"));
        return t3.className.baseVal = v + "-caps-mask-marker-shape", t3;
      }), a2.capsMaskLine = o2 = i3.appendChild(d3.createElementNS(b, "use")), o2.className.baseVal = v + "-caps-mask-line", o2.href.baseVal = "#" + r2, a2.maskBGRect = o2 = m2(n2.appendChild(d3.createElementNS(b, "rect"))), o2.id = u3 = f3 + "-mask-bg-rect", o2.className.baseVal = v + "-mask-bg-rect", ue && (o2.style.fill = "white"), a2.lineMask = m2(y2(a2.lineMaskId = f3 + "-line-mask")), a2.lineMaskBG = o2 = a2.lineMask.appendChild(d3.createElementNS(b, "use")), o2.href.baseVal = "#" + u3, a2.lineMaskShape = o2 = a2.lineMask.appendChild(d3.createElementNS(b, "use")), o2.className.baseVal = v + "-line-mask-shape", o2.href.baseVal = "#" + l2, o2.style.display = "none", a2.lineMaskCaps = o2 = a2.lineMask.appendChild(d3.createElementNS(b, "use")), o2.href.baseVal = "#" + s3, a2.lineOutlineMask = m2(y2(h3 = f3 + "-line-outline-mask")), (o2 = a2.lineOutlineMask.appendChild(d3.createElementNS(b, "use"))).href.baseVal = "#" + u3, a2.lineOutlineMaskShape = o2 = a2.lineOutlineMask.appendChild(d3.createElementNS(b, "use")), o2.className.baseVal = v + "-line-outline-mask-shape", o2.href.baseVal = "#" + l2, a2.lineOutlineMaskCaps = o2 = a2.lineOutlineMask.appendChild(d3.createElementNS(b, "use")), o2.href.baseVal = "#" + s3, a2.face = t2.appendChild(d3.createElementNS(b, "g")), a2.lineFace = o2 = a2.face.appendChild(d3.createElementNS(b, "use")), o2.href.baseVal = "#" + r2, a2.lineOutlineFace = o2 = a2.face.appendChild(d3.createElementNS(b, "use")), o2.href.baseVal = "#" + r2, o2.style.mask = "url(#" + h3 + ")", o2.style.display = "none", a2.plugMaskIdSE = [f3 + "-plug-mask-0", f3 + "-plug-mask-1"], a2.plugMaskSE = [0, 1].map(function(e4) {
        return y2(a2.plugMaskIdSE[e4]);
      }), a2.plugMaskShapeSE = [0, 1].map(function(e4) {
        var t3 = a2.plugMaskSE[e4].appendChild(d3.createElementNS(b, "use"));
        return t3.className.baseVal = v + "-plug-mask-shape", t3;
      }), p3 = [], a2.plugOutlineMaskSE = [0, 1].map(function(e4) {
        return y2(p3[e4] = f3 + "-plug-outline-mask-" + e4);
      }), a2.plugOutlineMaskShapeSE = [0, 1].map(function(e4) {
        var t3 = a2.plugOutlineMaskSE[e4].appendChild(d3.createElementNS(b, "use"));
        return t3.className.baseVal = v + "-plug-outline-mask-shape", t3;
      }), a2.plugMarkerIdSE = [f3 + "-plug-marker-0", f3 + "-plug-marker-1"], a2.plugMarkerSE = [0, 1].map(function(e4) {
        var t3 = S2(a2.plugMarkerIdSE[e4]);
        return ue && (t3.markerUnits.baseVal = SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE), t3;
      }), a2.plugMarkerShapeSE = [0, 1].map(function(e4) {
        return a2.plugMarkerSE[e4].appendChild(d3.createElementNS(b, "g"));
      }), a2.plugFaceSE = [0, 1].map(function(e4) {
        return a2.plugMarkerShapeSE[e4].appendChild(d3.createElementNS(b, "use"));
      }), a2.plugOutlineFaceSE = [0, 1].map(function(e4) {
        var t3 = a2.plugMarkerShapeSE[e4].appendChild(d3.createElementNS(b, "use"));
        return t3.style.mask = "url(#" + p3[e4] + ")", t3.style.display = "none", t3;
      }), a2.plugsFace = o2 = a2.face.appendChild(d3.createElementNS(b, "use")), o2.className.baseVal = v + "-plugs-face", o2.href.baseVal = "#" + r2, o2.style.display = "none", a2.curStats.show_inAnim ? (a2.isShown = 1, g[c3.show_effect].stop(a2, true)) : a2.isShown || (t2.style.visibility = "hidden"), d3.body.appendChild(t2), [0, 1, 2].forEach(function(e4) {
        var t3, n3 = a2.options.labelSEM[e4];
        n3 && _(n3, "label") && (t3 = $[n3._id]).conf.initSvg && t3.conf.initSvg(t3, a2);
      });
    }(s2, e2), p2.line = p2.plug = p2.lineOutline = p2.plugOutline = p2.faces = p2.effect = true), p2.position = c2(h2, u2, "path", m, null, null, pe.path) || p2.position, p2.position = c2(h2, u2, "startSocket", n, "socketSE", 0) || p2.position, p2.position = c2(h2, u2, "endSocket", n, "socketSE", 1) || p2.position, [u2.startSocketGravity, u2.endSocketGravity].forEach(function(e3, t2) {
      var n2, a2, i3 = false;
      null != e3 && (Array.isArray(e3) ? w(e3[0]) && w(e3[1]) && (i3 = [e3[0], e3[1]], Array.isArray(h2.socketGravitySE[t2]) && (n2 = i3, a2 = h2.socketGravitySE[t2], n2.length === a2.length && n2.every(function(e4, t3) {
        return e4 === a2[t3];
      })) && (i3 = false)) : ((e3 + "").toLowerCase() === x ? i3 = null : w(e3) && 0 <= e3 && (i3 = e3), i3 === h2.socketGravitySE[t2] && (i3 = false)), false !== i3 && (h2.socketGravitySE[t2] = i3, p2.position = true));
    }), p2.line = d2(h2, u2, "color", null, "lineColor", null, pe.lineColor, null, true) || p2.line, p2.line = d2(h2, u2, "size", null, "lineSize", null, pe.lineSize, function(e3) {
      return 0 < e3;
    }) || p2.line, ["startPlug", "endPlug"].forEach(function(e3, t2) {
      p2.plug = c2(h2, u2, e3, E, "plugSE", t2, pe.plugSE[t2]) || p2.plug, p2.plug = d2(h2, u2, e3 + "Color", "string", "plugColorSE", t2, null, null, true) || p2.plug, p2.plug = d2(h2, u2, e3 + "Size", null, "plugSizeSE", t2, pe.plugSizeSE[t2], function(e4) {
        return 0 < e4;
      }) || p2.plug;
    }), p2.lineOutline = d2(h2, u2, "outline", null, "lineOutlineEnabled", null, pe.lineOutlineEnabled) || p2.lineOutline, p2.lineOutline = d2(h2, u2, "outlineColor", null, "lineOutlineColor", null, pe.lineOutlineColor, null, true) || p2.lineOutline, p2.lineOutline = d2(h2, u2, "outlineSize", null, "lineOutlineSize", null, pe.lineOutlineSize, function(e3) {
      return 0 < e3 && e3 <= 0.48;
    }) || p2.lineOutline, ["startPlugOutline", "endPlugOutline"].forEach(function(e3, t2) {
      p2.plugOutline = d2(h2, u2, e3, null, "plugOutlineEnabledSE", t2, pe.plugOutlineEnabledSE[t2]) || p2.plugOutline, p2.plugOutline = d2(h2, u2, e3 + "Color", "string", "plugOutlineColorSE", t2, null, null, true) || p2.plugOutline, p2.plugOutline = d2(h2, u2, e3 + "Size", null, "plugOutlineSizeSE", t2, pe.plugOutlineSizeSE[t2], function(e4) {
        return 1 <= e4;
      }) || p2.plugOutline;
    }), ["startLabel", "endLabel", "middleLabel"].forEach(function(e3, t2) {
      var n2, a2, i3, o2 = u2[e3], l2 = h2.labelSEM[t2] && !s2.optionIsAttach.labelSEM[t2] ? $[h2.labelSEM[t2]._id].text : h2.labelSEM[t2], r2 = false;
      if ((n2 = "string" == typeof o2) && (o2 = o2.trim()), (n2 || o2 && (r2 = _(o2, "label"))) && o2 !== l2) {
        if (h2.labelSEM[t2] && (Ue(s2, $[h2.labelSEM[t2]._id]), h2.labelSEM[t2] = ""), o2) {
          if (r2 ? (a2 = $[(i3 = o2)._id]).boundTargets.slice().forEach(function(e4) {
            a2.conf.removeOption(a2, e4);
          }) : i3 = new S(y.captionLabel, [o2]), !He(s2, $[i3._id], e3)) throw new Error("Can't bind attachment");
          h2.labelSEM[t2] = i3;
        }
        s2.optionIsAttach.labelSEM[t2] = r2;
      }
    }), Object.keys(te).forEach(function(a2) {
      var e3, t2, o2 = te[a2], n2 = a2 + "_enabled", i3 = a2 + "_options";
      function l2(a3) {
        var i4 = {};
        return o2.optionsConf.forEach(function(e4) {
          var t3 = e4[0], n3 = e4[3];
          null == e4[4] || i4[n3] || (i4[n3] = []), ("function" == typeof t3 ? t3 : "id" === t3 ? c2 : d2).apply(null, [i4, a3].concat(e4.slice(1)));
        }), i4;
      }
      function r2(e4) {
        var t3, n3 = a2 + "_animOptions";
        return e4.hasOwnProperty("animation") ? k(e4.animation) ? t3 = s2.curStats[n3] = ze(e4.animation, o2.defaultAnimOptions) : (t3 = !!e4.animation, s2.curStats[n3] = t3 ? ze({}, o2.defaultAnimOptions) : null) : (t3 = !!o2.defaultEnabled, s2.curStats[n3] = t3 ? ze({}, o2.defaultAnimOptions) : null), t3;
      }
      u2.hasOwnProperty(a2) && (e3 = u2[a2], k(e3) ? (s2.curStats[n2] = true, t2 = s2.curStats[i3] = l2(e3), o2.anim && (s2.curStats[i3].animation = r2(e3))) : (t2 = s2.curStats[n2] = !!e3) && (s2.curStats[i3] = l2({}), o2.anim && (s2.curStats[i3].animation = r2({}))), ce(t2, h2[a2]) && (h2[a2] = t2, p2.effect = true));
    }), De(s2, p2);
  }
  function Ye(e2, t2, n2) {
    var a2 = {
      options: {
        anchorSE: [],
        socketSE: [],
        socketGravitySE: [],
        plugSE: [],
        plugColorSE: [],
        plugSizeSE: [],
        plugOutlineEnabledSE: [],
        plugOutlineColorSE: [],
        plugOutlineSizeSE: [],
        labelSEM: ["", "", ""]
      },
      optionIsAttach: {
        anchorSE: [false, false],
        labelSEM: [false, false, false]
      },
      curStats: {},
      aplStats: {},
      attachments: [],
      events: {},
      reflowTargets: []
    };
    Te(a2.curStats, Y), Te(a2.aplStats, Y), Object.keys(te).forEach(function(e3) {
      var t3 = te[e3].stats;
      Te(a2.curStats, t3), Te(a2.aplStats, t3), a2.options[e3] = false;
    }), Te(a2.curStats, X), Te(a2.aplStats, X), a2.curStats.show_effect = q, a2.curStats.show_animOptions = de(g[q].defaultAnimOptions), Object.defineProperty(this, "_id", {
      value: ++J
    }), a2._id = this._id, K[this._id] = a2, 1 === arguments.length && (n2 = e2, e2 = null), n2 = n2 || {}, (e2 || t2) && (n2 = de(n2), e2 && (n2.start = e2), t2 && (n2.end = t2)), a2.isShown = a2.aplStats.show_on = !n2.hide, this.setOptions(n2);
  }
  return te = {
    dash: {
      stats: {
        dash_len: {},
        dash_gap: {},
        dash_maxOffset: {}
      },
      anim: true,
      defaultAnimOptions: {
        duration: 1e3,
        timing: "linear"
      },
      optionsConf: [
        ["type", "len", "number", null, null, null, function(e2) {
          return 0 < e2;
        }],
        ["type", "gap", "number", null, null, null, function(e2) {
          return 0 < e2;
        }]
      ],
      init: function(e2) {
        Ie(e2, "apl_line_strokeWidth", te.dash.update), e2.lineFace.style.strokeDashoffset = 0, te.dash.update(e2);
      },
      remove: function(e2) {
        var t2 = e2.curStats;
        Ce(e2, "apl_line_strokeWidth", te.dash.update), t2.dash_animId && (c.remove(t2.dash_animId), t2.dash_animId = null), e2.lineFace.style.strokeDasharray = "none", e2.lineFace.style.strokeDashoffset = 0, Te(e2.aplStats, te.dash.stats);
      },
      update: function(t2) {
        var e2, n2 = t2.curStats, a2 = t2.aplStats, i2 = a2.dash_options, o2 = false;
        n2.dash_len = i2.len || 2 * a2.line_strokeWidth, n2.dash_gap = i2.gap || a2.line_strokeWidth, n2.dash_maxOffset = n2.dash_len + n2.dash_gap, o2 = We(t2, a2, "dash_len", n2.dash_len) || o2, (o2 = We(t2, a2, "dash_gap", n2.dash_gap) || o2) && (t2.lineFace.style.strokeDasharray = a2.dash_len + "," + a2.dash_gap), n2.dash_animOptions ? (o2 = We(t2, a2, "dash_maxOffset", n2.dash_maxOffset), a2.dash_animOptions && (o2 || ce(n2.dash_animOptions, a2.dash_animOptions)) && (n2.dash_animId && (e2 = c.stop(n2.dash_animId), c.remove(n2.dash_animId)), a2.dash_animOptions = null), a2.dash_animOptions || (n2.dash_animId = c.add(function(e3) {
          return (1 - e3) * a2.dash_maxOffset + "px";
        }, function(e3) {
          t2.lineFace.style.strokeDashoffset = e3;
        }, n2.dash_animOptions.duration, 0, n2.dash_animOptions.timing, false, e2), a2.dash_animOptions = de(n2.dash_animOptions))) : a2.dash_animOptions && (n2.dash_animId && (c.remove(n2.dash_animId), n2.dash_animId = null), t2.lineFace.style.strokeDashoffset = 0, a2.dash_animOptions = null);
      }
    },
    gradient: {
      stats: {
        gradient_colorSE: {
          hasSE: true
        },
        gradient_pointSE: {
          hasSE: true,
          hasProps: true
        }
      },
      optionsConf: [
        ["type", "startColor", "string", "colorSE", 0, null, null, true],
        ["type", "endColor", "string", "colorSE", 1, null, null, true]
      ],
      init: function(e2) {
        var t2, a2 = e2.baseWindow.document, n2 = e2.defs, i2 = v + "-" + e2._id + "-gradient";
        e2.efc_gradient_gradient = t2 = n2.appendChild(a2.createElementNS(b, "linearGradient")), t2.id = i2, t2.gradientUnits.baseVal = SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE, [t2.x1, t2.y1, t2.x2, t2.y2].forEach(function(e3) {
          e3.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, 0);
        }), e2.efc_gradient_stopSE = [0, 1].map(function(t3) {
          var n3 = e2.efc_gradient_gradient.appendChild(a2.createElementNS(b, "stop"));
          try {
            n3.offset.baseVal = t3;
          } catch (e3) {
            if (e3.code !== DOMException.NO_MODIFICATION_ALLOWED_ERR) throw e3;
            n3.setAttribute("offset", t3);
          }
          return n3;
        }), Ie(e2, "cur_plug_colorSE", te.gradient.update), Ie(e2, "apl_path", te.gradient.update), e2.curStats.line_altColor = true, e2.lineFace.style.stroke = "url(#" + i2 + ")", te.gradient.update(e2);
      },
      remove: function(e2) {
        e2.efc_gradient_gradient && (e2.defs.removeChild(e2.efc_gradient_gradient), e2.efc_gradient_gradient = e2.efc_gradient_stopSE = null), Ce(e2, "cur_plug_colorSE", te.gradient.update), Ce(e2, "apl_path", te.gradient.update), e2.curStats.line_altColor = false, e2.lineFace.style.stroke = e2.curStats.line_color, Te(e2.aplStats, te.gradient.stats);
      },
      update: function(a2) {
        var e2, t2, i2 = a2.curStats, o2 = a2.aplStats, n2 = o2.gradient_options, l2 = a2.pathList.animVal || a2.pathList.baseVal;
        [0, 1].forEach(function(e3) {
          i2.gradient_colorSE[e3] = n2.colorSE[e3] || i2.plug_colorSE[e3];
        }), t2 = l2[0][0], i2.gradient_pointSE[0] = {
          x: t2.x,
          y: t2.y
        }, t2 = (e2 = l2[l2.length - 1])[e2.length - 1], i2.gradient_pointSE[1] = {
          x: t2.x,
          y: t2.y
        }, [0, 1].forEach(function(t3) {
          var n3;
          We(a2, o2.gradient_colorSE, t3, n3 = i2.gradient_colorSE[t3]) && (ue ? (n3 = fe(n3), a2.efc_gradient_stopSE[t3].style.stopColor = n3[1], a2.efc_gradient_stopSE[t3].style.stopOpacity = n3[0]) : a2.efc_gradient_stopSE[t3].style.stopColor = n3), ["x", "y"].forEach(function(e3) {
            (n3 = i2.gradient_pointSE[t3][e3]) !== o2.gradient_pointSE[t3][e3] && (a2.efc_gradient_gradient[e3 + (t3 + 1)].baseVal.value = o2.gradient_pointSE[t3][e3] = n3);
          });
        });
      }
    },
    dropShadow: {
      stats: {
        dropShadow_dx: {},
        dropShadow_dy: {},
        dropShadow_blur: {},
        dropShadow_color: {},
        dropShadow_opacity: {},
        dropShadow_x: {},
        dropShadow_y: {}
      },
      optionsConf: [
        ["type", "dx", null, null, null, 2],
        ["type", "dy", null, null, null, 4],
        ["type", "blur", null, null, null, 3, function(e2) {
          return 0 <= e2;
        }],
        ["type", "color", null, null, null, "#000", null, true],
        ["type", "opacity", null, null, null, 0.8, function(e2) {
          return 0 <= e2 && e2 <= 1;
        }]
      ],
      init: function(t2) {
        var e2, n2, a2, i2, o2, l2 = t2.baseWindow.document, r2 = t2.defs, s2 = v + "-" + t2._id + "-dropShadow", u2 = (e2 = l2, n2 = s2, o2 = {}, "boolean" != typeof p && (p = !!window.SVGFEDropShadowElement && !ue), o2.elmsAppend = [o2.elmFilter = a2 = e2.createElementNS(b, "filter")], a2.filterUnits.baseVal = SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE, a2.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, 0), a2.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, 0), a2.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE, 100), a2.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE, 100), a2.id = n2, p ? (o2.elmOffset = o2.elmBlur = i2 = a2.appendChild(e2.createElementNS(b, "feDropShadow")), o2.styleFlood = i2.style) : (o2.elmBlur = a2.appendChild(e2.createElementNS(b, "feGaussianBlur")), o2.elmOffset = i2 = a2.appendChild(e2.createElementNS(b, "feOffset")), i2.result.baseVal = "offsetblur", i2 = a2.appendChild(e2.createElementNS(b, "feFlood")), o2.styleFlood = i2.style, (i2 = a2.appendChild(e2.createElementNS(b, "feComposite"))).in2.baseVal = "offsetblur", i2.operator.baseVal = SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN, (i2 = a2.appendChild(e2.createElementNS(b, "feMerge"))).appendChild(e2.createElementNS(b, "feMergeNode")), i2.appendChild(e2.createElementNS(b, "feMergeNode")).in1.baseVal = "SourceGraphic"), o2);
        ["elmFilter", "elmOffset", "elmBlur", "styleFlood", "elmsAppend"].forEach(function(e3) {
          t2["efc_dropShadow_" + e3] = u2[e3];
        }), u2.elmsAppend.forEach(function(e3) {
          r2.appendChild(e3);
        }), t2.face.setAttribute("filter", "url(#" + s2 + ")"), Ie(t2, "new_edge4viewBox", te.dropShadow.adjustEdge), te.dropShadow.update(t2);
      },
      remove: function(e2) {
        var t2 = e2.defs;
        e2.efc_dropShadow_elmsAppend && (e2.efc_dropShadow_elmsAppend.forEach(function(e3) {
          t2.removeChild(e3);
        }), e2.efc_dropShadow_elmFilter = e2.efc_dropShadow_elmOffset = e2.efc_dropShadow_elmBlur = e2.efc_dropShadow_styleFlood = e2.efc_dropShadow_elmsAppend = null), Ce(e2, "new_edge4viewBox", te.dropShadow.adjustEdge), De(e2, {}), e2.face.removeAttribute("filter"), Te(e2.aplStats, te.dropShadow.stats);
      },
      update: function(e2) {
        var t2, n2, a2 = e2.curStats, i2 = e2.aplStats, o2 = i2.dropShadow_options;
        a2.dropShadow_dx = t2 = o2.dx, We(e2, i2, "dropShadow_dx", t2) && (e2.efc_dropShadow_elmOffset.dx.baseVal = t2, n2 = true), a2.dropShadow_dy = t2 = o2.dy, We(e2, i2, "dropShadow_dy", t2) && (e2.efc_dropShadow_elmOffset.dy.baseVal = t2, n2 = true), a2.dropShadow_blur = t2 = o2.blur, We(e2, i2, "dropShadow_blur", t2) && (e2.efc_dropShadow_elmBlur.setStdDeviation(t2, t2), n2 = true), n2 && De(e2, {}), a2.dropShadow_color = t2 = o2.color, We(e2, i2, "dropShadow_color", t2) && (e2.efc_dropShadow_styleFlood.floodColor = t2), a2.dropShadow_opacity = t2 = o2.opacity, We(e2, i2, "dropShadow_opacity", t2) && (e2.efc_dropShadow_styleFlood.floodOpacity = t2);
      },
      adjustEdge: function(a2, i2) {
        var e2, t2, o2 = a2.curStats, l2 = a2.aplStats;
        null != o2.dropShadow_dx && (e2 = 3 * o2.dropShadow_blur, (t2 = {
          x1: i2.x1 - e2 + o2.dropShadow_dx,
          y1: i2.y1 - e2 + o2.dropShadow_dy,
          x2: i2.x2 + e2 + o2.dropShadow_dx,
          y2: i2.y2 + e2 + o2.dropShadow_dy
        }).x1 < i2.x1 && (i2.x1 = t2.x1), t2.y1 < i2.y1 && (i2.y1 = t2.y1), t2.x2 > i2.x2 && (i2.x2 = t2.x2), t2.y2 > i2.y2 && (i2.y2 = t2.y2), ["x", "y"].forEach(function(e3) {
          var t3, n2 = "dropShadow_" + e3;
          o2[n2] = t3 = i2[e3 + "1"], We(a2, l2, n2, t3) && (a2.efc_dropShadow_elmFilter[e3].baseVal.value = t3);
        }));
      }
    }
  }, Object.keys(te).forEach(function(e2) {
    var t2 = te[e2], n2 = t2.stats;
    n2[e2 + "_enabled"] = {
      iniValue: false
    }, n2[e2 + "_options"] = {
      hasProps: true
    }, t2.anim && (n2[e2 + "_animOptions"] = {}, n2[e2 + "_animId"] = {});
  }), g = {
    none: {
      defaultAnimOptions: {},
      init: function(e2, t2) {
        var n2 = e2.curStats;
        n2.show_animId && (c.remove(n2.show_animId), n2.show_animId = null), g.none.start(e2, t2);
      },
      start: function(e2, t2) {
        g.none.stop(e2, true);
      },
      stop: function(e2, t2, n2) {
        var a2 = e2.curStats;
        return n2 = null != n2 ? n2 : e2.aplStats.show_on, a2.show_inAnim = false, t2 && Ge(e2, n2), n2 ? 1 : 0;
      }
    },
    fade: {
      defaultAnimOptions: {
        duration: 300,
        timing: "linear"
      },
      init: function(n2, e2) {
        var t2 = n2.curStats, a2 = n2.aplStats;
        t2.show_animId && c.remove(t2.show_animId), t2.show_animId = c.add(function(e3) {
          return e3;
        }, function(e3, t3) {
          t3 ? g.fade.stop(n2, true) : (n2.svg.style.opacity = e3 + "", le && (Ae(n2, n2.svg), Ve(n2)));
        }, a2.show_animOptions.duration, 1, a2.show_animOptions.timing, null, false), g.fade.start(n2, e2);
      },
      start: function(e2, t2) {
        var n2, a2 = e2.curStats;
        a2.show_inAnim && (n2 = c.stop(a2.show_animId)), Ge(e2, 1), a2.show_inAnim = true, c.start(a2.show_animId, !e2.aplStats.show_on, null != t2 ? t2 : n2);
      },
      stop: function(e2, t2, n2) {
        var a2, i2 = e2.curStats;
        return n2 = null != n2 ? n2 : e2.aplStats.show_on, a2 = i2.show_inAnim ? c.stop(i2.show_animId) : n2 ? 1 : 0, i2.show_inAnim = false, t2 && (e2.svg.style.opacity = n2 ? "" : "0", Ge(e2, n2)), a2;
      }
    },
    draw: {
      defaultAnimOptions: {
        duration: 500,
        timing: [0.58, 0, 0.42, 1]
      },
      init: function(n2, e2) {
        var t2 = n2.curStats, a2 = n2.aplStats, l2 = n2.pathList.baseVal, i2 = Oe(l2), r2 = i2.segsLen, s2 = i2.lenAll;
        t2.show_animId && c.remove(t2.show_animId), t2.show_animId = c.add(function(e3) {
          var t3, n3, a3, i3, o2 = -1;
          if (0 === e3) n3 = [
            [l2[0][0], l2[0][0]]
          ];
          else if (1 === e3) n3 = l2;
          else {
            for (t3 = s2 * e3, n3 = []; t3 >= r2[++o2]; ) n3.push(l2[o2]), t3 -= r2[o2];
            t3 && (2 === (a3 = l2[o2]).length ? n3.push([a3[0], ve(a3[0], a3[1], t3 / r2[o2])]) : (i3 = xe(a3[0], a3[1], a3[2], a3[3], ke(a3[0], a3[1], a3[2], a3[3], t3)), n3.push([a3[0], i3.fromP1, i3.fromP2, i3])));
          }
          return n3;
        }, function(e3, t3) {
          t3 ? g.draw.stop(n2, true) : (n2.pathList.animVal = e3, De(n2, {
            path: true
          }));
        }, a2.show_animOptions.duration, 1, a2.show_animOptions.timing, null, false), g.draw.start(n2, e2);
      },
      start: function(e2, t2) {
        var n2, a2 = e2.curStats;
        a2.show_inAnim && (n2 = c.stop(a2.show_animId)), Ge(e2, 1), a2.show_inAnim = true, Ie(e2, "apl_position", g.draw.update), c.start(a2.show_animId, !e2.aplStats.show_on, null != t2 ? t2 : n2);
      },
      stop: function(e2, t2, n2) {
        var a2, i2 = e2.curStats;
        return n2 = null != n2 ? n2 : e2.aplStats.show_on, a2 = i2.show_inAnim ? c.stop(i2.show_animId) : n2 ? 1 : 0, i2.show_inAnim = false, t2 && (e2.pathList.animVal = n2 ? null : [
          [e2.pathList.baseVal[0][0], e2.pathList.baseVal[0][0]]
        ], De(e2, {
          path: true
        }), Ge(e2, n2)), a2;
      },
      update: function(e2) {
        Ce(e2, "apl_position", g.draw.update), e2.curStats.show_inAnim ? g.draw.init(e2, g.draw.stop(e2)) : e2.aplStats.show_animOptions = {};
      }
    }
  }, function() {
    function r2(n2) {
      return function(e2) {
        var t2 = {};
        t2[n2] = e2, this.setOptions(t2);
      };
    }
    [
      ["start", "anchorSE", 0],
      ["end", "anchorSE", 1],
      ["color", "lineColor"],
      ["size", "lineSize"],
      ["startSocketGravity", "socketGravitySE", 0],
      ["endSocketGravity", "socketGravitySE", 1],
      ["startPlugColor", "plugColorSE", 0],
      ["endPlugColor", "plugColorSE", 1],
      ["startPlugSize", "plugSizeSE", 0],
      ["endPlugSize", "plugSizeSE", 1],
      ["outline", "lineOutlineEnabled"],
      ["outlineColor", "lineOutlineColor"],
      ["outlineSize", "lineOutlineSize"],
      ["startPlugOutline", "plugOutlineEnabledSE", 0],
      ["endPlugOutline", "plugOutlineEnabledSE", 1],
      ["startPlugOutlineColor", "plugOutlineColorSE", 0],
      ["endPlugOutlineColor", "plugOutlineColorSE", 1],
      ["startPlugOutlineSize", "plugOutlineSizeSE", 0],
      ["endPlugOutlineSize", "plugOutlineSizeSE", 1]
    ].forEach(function(e2) {
      var t2 = e2[0], n2 = e2[1], a2 = e2[2];
      Object.defineProperty(Ye.prototype, t2, {
        get: function() {
          var e3 = null != a2 ? K[this._id].options[n2][a2] : n2 ? K[this._id].options[n2] : K[this._id].options[t2];
          return null == e3 ? x : de(e3);
        },
        set: r2(t2),
        enumerable: true
      });
    }), [
      ["path", m],
      ["startSocket", n, "socketSE", 0],
      ["endSocket", n, "socketSE", 1],
      ["startPlug", E, "plugSE", 0],
      ["endPlug", E, "plugSE", 1]
    ].forEach(function(e2) {
      var a2 = e2[0], i2 = e2[1], o2 = e2[2], l2 = e2[3];
      Object.defineProperty(Ye.prototype, a2, {
        get: function() {
          var t2, n2 = null != l2 ? K[this._id].options[o2][l2] : o2 ? K[this._id].options[o2] : K[this._id].options[a2];
          return n2 ? Object.keys(i2).some(function(e3) {
            return i2[e3] === n2 && (t2 = e3, true);
          }) ? t2 : new Error("It's broken") : x;
        },
        set: r2(a2),
        enumerable: true
      });
    }), Object.keys(te).forEach(function(n2) {
      var a2 = te[n2];
      Object.defineProperty(Ye.prototype, n2, {
        get: function() {
          var u2, e2, t2 = K[this._id].options[n2];
          return k(t2) ? (u2 = t2, e2 = a2.optionsConf.reduce(function(e3, t3) {
            var n3, a3 = t3[0], i2 = t3[1], o2 = t3[2], l2 = t3[3], r3 = t3[4], s2 = null != r3 ? u2[l2][r3] : l2 ? u2[l2] : u2[i2];
            return e3[i2] = "id" === a3 ? s2 ? Object.keys(o2).some(function(e4) {
              return o2[e4] === s2 && (n3 = e4, true);
            }) ? n3 : new Error("It's broken") : x : null == s2 ? x : de(s2), e3;
          }, {}), a2.anim && (e2.animation = de(u2.animation)), e2) : t2;
        },
        set: r2(n2),
        enumerable: true
      });
    }), ["startLabel", "endLabel", "middleLabel"].forEach(function(e2, n2) {
      Object.defineProperty(Ye.prototype, e2, {
        get: function() {
          var e3 = K[this._id], t2 = e3.options;
          return t2.labelSEM[n2] && !e3.optionIsAttach.labelSEM[n2] ? $[t2.labelSEM[n2]._id].text : t2.labelSEM[n2] || "";
        },
        set: r2(e2),
        enumerable: true
      });
    });
  }(), Ye.prototype.setOptions = function(e2) {
    return Ze(K[this._id], e2), this;
  }, Ye.prototype.position = function() {
    return De(K[this._id], {
      position: true
    }), this;
  }, Ye.prototype.remove = function() {
    var t2 = K[this._id], n2 = t2.curStats;
    Object.keys(te).forEach(function(e2) {
      var t3 = e2 + "_animId";
      n2[t3] && c.remove(n2[t3]);
    }), n2.show_animId && c.remove(n2.show_animId), t2.attachments.slice().forEach(function(e2) {
      Ue(t2, e2);
    }), t2.baseWindow && t2.svg && t2.baseWindow.document.body.removeChild(t2.svg), delete K[this._id];
  }, Ye.prototype.show = function(e2, t2) {
    return je(K[this._id], true, e2, t2), this;
  }, Ye.prototype.hide = function(e2, t2) {
    return je(K[this._id], false, e2, t2), this;
  }, o = function(t2) {
    t2 && $[t2._id] && (t2.boundTargets.slice().forEach(function(e2) {
      Ue(e2.props, t2, true);
    }), t2.conf.remove && t2.conf.remove(t2), delete $[t2._id]);
  }, S = function() {
    function e2(e3, t2) {
      var n2, a2 = {
        conf: e3,
        curStats: {},
        aplStats: {},
        boundTargets: []
      }, i2 = {};
      e3.argOptions.every(function(e4) {
        return !(!t2.length || ("string" == typeof e4.type ? typeof t2[0] !== e4.type : "function" != typeof e4.type || !e4.type(t2[0]))) && (i2[e4.optionName] = t2.shift(), true);
      }), n2 = t2.length && k(t2[0]) ? de(t2[0]) : {}, Object.keys(i2).forEach(function(e4) {
        n2[e4] = i2[e4];
      }), e3.stats && (Te(a2.curStats, e3.stats), Te(a2.aplStats, e3.stats)), Object.defineProperty(this, "_id", {
        value: ++ee
      }), Object.defineProperty(this, "isRemoved", {
        get: function() {
          return !$[this._id];
        }
      }), a2._id = this._id, e3.init && !e3.init(a2, n2) || ($[this._id] = a2);
    }
    return e2.prototype.remove = function() {
      var t2 = this, n2 = $[t2._id];
      n2 && (n2.boundTargets.slice().forEach(function(e3) {
        n2.conf.removeOption(n2, e3);
      }), Le(function() {
        var e3 = $[t2._id];
        e3 && (console.error("LeaderLineAttachment was not removed by removeOption"), o(e3));
      }));
    }, e2;
  }(), window.LeaderLineAttachment = S, _ = function(e2, t2) {
    return e2 instanceof S && (!(e2.isRemoved || t2 && $[e2._id].conf.type !== t2) || null);
  }, y = {
    pointAnchor: {
      type: "anchor",
      argOptions: [{
        optionName: "element",
        type: ye
      }],
      init: function(e2, t2) {
        return e2.element = y.pointAnchor.checkElement(t2.element), e2.x = y.pointAnchor.parsePercent(t2.x, true) || [0.5, true], e2.y = y.pointAnchor.parsePercent(t2.y, true) || [0.5, true], true;
      },
      removeOption: function(e2, t2) {
        var n2 = t2.props, a2 = {}, i2 = e2.element, o2 = n2.options.anchorSE["start" === t2.optionName ? 1 : 0];
        i2 === o2 && (i2 = o2 === document.body ? new S(y.pointAnchor, [i2]) : document.body), a2[t2.optionName] = i2, Ze(n2, a2);
      },
      getBBoxNest: function(e2, t2) {
        var n2 = ge(e2.element, t2.baseWindow), a2 = n2.width, i2 = n2.height;
        return n2.width = n2.height = 0, n2.left = n2.right = n2.left + e2.x[0] * (e2.x[1] ? a2 : 1), n2.top = n2.bottom = n2.top + e2.y[0] * (e2.y[1] ? i2 : 1), n2;
      },
      parsePercent: function(e2, t2) {
        var n2, a2, i2 = false;
        return w(e2) ? a2 = e2 : "string" == typeof e2 && (n2 = u.exec(e2)) && n2[2] && (i2 = 0 !== (a2 = parseFloat(n2[1]) / 100)), null != a2 && (t2 || 0 <= a2) ? [a2, i2] : null;
      },
      checkElement: function(e2) {
        if (null == e2) e2 = document.body;
        else if (!ye(e2)) throw new Error("`element` must be Element");
        return e2;
      }
    },
    areaAnchor: {
      type: "anchor",
      argOptions: [{
        optionName: "element",
        type: ye
      }, {
        optionName: "shape",
        type: "string"
      }],
      stats: {
        color: {},
        strokeWidth: {},
        elementWidth: {},
        elementHeight: {},
        elementLeft: {},
        elementTop: {},
        pathListRel: {},
        bBoxRel: {},
        pathData: {},
        viewBoxBBox: {
          hasProps: true
        },
        dashLen: {},
        dashGap: {}
      },
      init: function(i2, e2) {
        var t2, n2, a2, o2 = [];
        return i2.element = y.pointAnchor.checkElement(e2.element), "string" == typeof e2.color && (i2.color = e2.color.trim()), "string" == typeof e2.fillColor && (i2.fill = e2.fillColor.trim()), w(e2.size) && 0 <= e2.size && (i2.size = e2.size), e2.dash && (i2.dash = true, w(e2.dash.len) && 0 < e2.dash.len && (i2.dashLen = e2.dash.len), w(e2.dash.gap) && 0 < e2.dash.gap && (i2.dashGap = e2.dash.gap)), "circle" === e2.shape ? i2.shape = e2.shape : "polygon" === e2.shape && Array.isArray(e2.points) && 3 <= e2.points.length && e2.points.every(function(e3) {
          var t3 = {};
          return !(!(t3.x = y.pointAnchor.parsePercent(e3[0], true)) || !(t3.y = y.pointAnchor.parsePercent(e3[1], true))) && (o2.push(t3), (t3.x[1] || t3.y[1]) && (i2.hasRatio = true), true);
        }) ? (i2.shape = e2.shape, i2.points = o2) : (i2.shape = "rect", i2.radius = w(e2.radius) && 0 <= e2.radius ? e2.radius : 0), "rect" !== i2.shape && "circle" !== i2.shape || (i2.x = y.pointAnchor.parsePercent(e2.x, true) || [-0.05, true], i2.y = y.pointAnchor.parsePercent(e2.y, true) || [-0.05, true], i2.width = y.pointAnchor.parsePercent(e2.width) || [1.1, true], i2.height = y.pointAnchor.parsePercent(e2.height) || [1.1, true], (i2.x[1] || i2.y[1] || i2.width[1] || i2.height[1]) && (i2.hasRatio = true)), t2 = i2.element.ownerDocument, i2.svg = n2 = t2.createElementNS(b, "svg"), n2.className.baseVal = v + "-areaAnchor", n2.viewBox.baseVal || n2.setAttribute("viewBox", "0 0 0 0"), i2.path = n2.appendChild(t2.createElementNS(b, "path")), i2.path.style.fill = i2.fill || "none", i2.isShown = false, n2.style.visibility = "hidden", t2.body.appendChild(n2), Re(a2 = t2.defaultView), i2.bodyOffset = Be(a2), i2.updateColor = function() {
          var e3, t3 = i2.curStats, n3 = i2.aplStats, a3 = i2.boundTargets.length ? i2.boundTargets[0].props.curStats : null;
          t3.color = e3 = i2.color || (a3 ? a3.line_color : pe.lineColor), We(i2, n3, "color", e3) && (i2.path.style.stroke = e3);
        }, i2.updateShow = function() {
          Ge(i2, i2.boundTargets.some(function(e3) {
            return true === e3.props.isShown;
          }));
        }, true;
      },
      bind: function(e2, t2) {
        var n2 = t2.props;
        return e2.color || Ie(n2, "cur_line_color", e2.updateColor), Ie(n2, "svgShow", e2.updateShow), Le(function() {
          e2.updateColor(), e2.updateShow();
        }), true;
      },
      unbind: function(e2, t2) {
        var n2 = t2.props;
        e2.color || Ce(n2, "cur_line_color", e2.updateColor), Ce(n2, "svgShow", e2.updateShow), 1 < e2.boundTargets.length && Le(function() {
          e2.updateColor(), e2.updateShow(), y.areaAnchor.update(e2) && e2.boundTargets.forEach(function(e3) {
            De(e3.props, {
              position: true
            });
          });
        });
      },
      removeOption: function(e2, t2) {
        y.pointAnchor.removeOption(e2, t2);
      },
      remove: function(t2) {
        t2.boundTargets.length && (console.error("LeaderLineAttachment was not unbound by remove"), t2.boundTargets.forEach(function(e2) {
          y.areaAnchor.unbind(t2, e2);
        })), t2.svg.parentNode.removeChild(t2.svg);
      },
      getStrokeWidth: function(e2, t2) {
        return y.areaAnchor.update(e2) && 1 < e2.boundTargets.length && Le(function() {
          e2.boundTargets.forEach(function(e3) {
            e3.props !== t2 && De(e3.props, {
              position: true
            });
          });
        }), e2.curStats.strokeWidth;
      },
      getPathData: function(e2, t2) {
        var n2 = ge(e2.element, t2.baseWindow);
        return we(e2.curStats.pathListRel, function(e3) {
          e3.x += n2.left, e3.y += n2.top;
        });
      },
      getBBoxNest: function(e2, t2) {
        var n2 = ge(e2.element, t2.baseWindow), a2 = e2.curStats.bBoxRel;
        return {
          left: a2.left + n2.left,
          top: a2.top + n2.top,
          right: a2.right + n2.left,
          bottom: a2.bottom + n2.top,
          width: a2.width,
          height: a2.height
        };
      },
      update: function(t2) {
        var a2, n2, i2, o2, e2, l2, r2, s2, u2, h2, p2, c2, d2, f2, y2, S2, m2, g2, _2, v2, E2, x2, b2, k2, w2, O2, M2, I2, C2, L2, A2, V2, P2 = t2.curStats, N2 = t2.aplStats, T2 = t2.boundTargets.length ? t2.boundTargets[0].props.curStats : null, W2 = {};
        if (W2.strokeWidth = We(t2, P2, "strokeWidth", null != t2.size ? t2.size : T2 ? T2.line_strokeWidth : pe.lineSize), a2 = Se(t2.element), W2.elementWidth = We(t2, P2, "elementWidth", a2.width), W2.elementHeight = We(t2, P2, "elementHeight", a2.height), W2.elementLeft = We(t2, P2, "elementLeft", a2.left), W2.elementTop = We(t2, P2, "elementTop", a2.top), W2.strokeWidth || t2.hasRatio && (W2.elementWidth || W2.elementHeight)) {
          switch (t2.shape) {
            case "rect":
              (v2 = {
                left: t2.x[0] * (t2.x[1] ? a2.width : 1),
                top: t2.y[0] * (t2.y[1] ? a2.height : 1),
                width: t2.width[0] * (t2.width[1] ? a2.width : 1),
                height: t2.height[0] * (t2.height[1] ? a2.height : 1)
              }).right = v2.left + v2.width, v2.bottom = v2.top + v2.height, k2 = P2.strokeWidth / 2, x2 = (b2 = Math.min(v2.width, v2.height)) ? b2 / 2 * Math.SQRT2 + k2 : 0, (E2 = t2.radius ? t2.radius <= x2 ? t2.radius : x2 : 0) ? (O2 = E2 - (w2 = (E2 - k2) / Math.SQRT2), I2 = E2 * U, M2 = [{
                x: v2.left - O2,
                y: v2.top + w2
              }, {
                x: v2.left + w2,
                y: v2.top - O2
              }, {
                x: v2.right - w2,
                y: v2.top - O2
              }, {
                x: v2.right + O2,
                y: v2.top + w2
              }, {
                x: v2.right + O2,
                y: v2.bottom - w2
              }, {
                x: v2.right - w2,
                y: v2.bottom + O2
              }, {
                x: v2.left + w2,
                y: v2.bottom + O2
              }, {
                x: v2.left - O2,
                y: v2.bottom - w2
              }], P2.pathListRel = [
                [M2[0], {
                  x: M2[0].x,
                  y: M2[0].y - I2
                }, {
                  x: M2[1].x - I2,
                  y: M2[1].y
                }, M2[1]]
              ], M2[1].x !== M2[2].x && P2.pathListRel.push([M2[1], M2[2]]), P2.pathListRel.push([M2[2], {
                x: M2[2].x + I2,
                y: M2[2].y
              }, {
                x: M2[3].x,
                y: M2[3].y - I2
              }, M2[3]]), M2[3].y !== M2[4].y && P2.pathListRel.push([M2[3], M2[4]]), P2.pathListRel.push([M2[4], {
                x: M2[4].x,
                y: M2[4].y + I2
              }, {
                x: M2[5].x + I2,
                y: M2[5].y
              }, M2[5]]), M2[5].x !== M2[6].x && P2.pathListRel.push([M2[5], M2[6]]), P2.pathListRel.push([M2[6], {
                x: M2[6].x - I2,
                y: M2[6].y
              }, {
                x: M2[7].x,
                y: M2[7].y + I2
              }, M2[7]]), M2[7].y !== M2[0].y && P2.pathListRel.push([M2[7], M2[0]]), P2.pathListRel.push([]), O2 = E2 - w2 + P2.strokeWidth / 2, M2 = [{
                x: v2.left - O2,
                y: v2.top - O2
              }, {
                x: v2.right + O2,
                y: v2.bottom + O2
              }]) : (O2 = P2.strokeWidth / 2, M2 = [{
                x: v2.left - O2,
                y: v2.top - O2
              }, {
                x: v2.right + O2,
                y: v2.bottom + O2
              }], P2.pathListRel = [
                [M2[0], {
                  x: M2[1].x,
                  y: M2[0].y
                }],
                [{
                  x: M2[1].x,
                  y: M2[0].y
                }, M2[1]],
                [M2[1], {
                  x: M2[0].x,
                  y: M2[1].y
                }],
                []
              ], M2 = [{
                x: v2.left - P2.strokeWidth,
                y: v2.top - P2.strokeWidth
              }, {
                x: v2.right + P2.strokeWidth,
                y: v2.bottom + P2.strokeWidth
              }]), P2.bBoxRel = {
                left: M2[0].x,
                top: M2[0].y,
                right: M2[1].x,
                bottom: M2[1].y,
                width: M2[1].x - M2[0].x,
                height: M2[1].y - M2[0].y
              };
              break;
            case "circle":
              (r2 = {
                left: t2.x[0] * (t2.x[1] ? a2.width : 1),
                top: t2.y[0] * (t2.y[1] ? a2.height : 1),
                width: t2.width[0] * (t2.width[1] ? a2.width : 1),
                height: t2.height[0] * (t2.height[1] ? a2.height : 1)
              }).width || r2.height || (r2.width = r2.height = 10), r2.width || (r2.width = r2.height), r2.height || (r2.height = r2.width), r2.right = r2.left + r2.width, r2.bottom = r2.top + r2.height, s2 = r2.left + r2.width / 2, u2 = r2.top + r2.height / 2, f2 = P2.strokeWidth / 2, y2 = r2.width / 2, S2 = r2.height / 2, h2 = y2 * Math.SQRT2 + f2, p2 = S2 * Math.SQRT2 + f2, c2 = h2 * U, d2 = p2 * U, _2 = [{
                x: s2 - h2,
                y: u2
              }, {
                x: s2,
                y: u2 - p2
              }, {
                x: s2 + h2,
                y: u2
              }, {
                x: s2,
                y: u2 + p2
              }], P2.pathListRel = [
                [_2[0], {
                  x: _2[0].x,
                  y: _2[0].y - d2
                }, {
                  x: _2[1].x - c2,
                  y: _2[1].y
                }, _2[1]],
                [_2[1], {
                  x: _2[1].x + c2,
                  y: _2[1].y
                }, {
                  x: _2[2].x,
                  y: _2[2].y - d2
                }, _2[2]],
                [_2[2], {
                  x: _2[2].x,
                  y: _2[2].y + d2
                }, {
                  x: _2[3].x + c2,
                  y: _2[3].y
                }, _2[3]],
                [_2[3], {
                  x: _2[3].x - c2,
                  y: _2[3].y
                }, {
                  x: _2[0].x,
                  y: _2[0].y + d2
                }, _2[0]],
                []
              ], m2 = h2 - y2 + P2.strokeWidth / 2, g2 = p2 - S2 + P2.strokeWidth / 2, _2 = [{
                x: r2.left - m2,
                y: r2.top - g2
              }, {
                x: r2.right + m2,
                y: r2.bottom + g2
              }], P2.bBoxRel = {
                left: _2[0].x,
                top: _2[0].y,
                right: _2[1].x,
                bottom: _2[1].y,
                width: _2[1].x - _2[0].x,
                height: _2[1].y - _2[0].y
              };
              break;
            case "polygon":
              t2.points.forEach(function(e3) {
                var t3 = e3.x[0] * (e3.x[1] ? a2.width : 1), n3 = e3.y[0] * (e3.y[1] ? a2.height : 1);
                i2 ? (t3 < i2.left && (i2.left = t3), t3 > i2.right && (i2.right = t3), n3 < i2.top && (i2.top = n3), n3 > i2.bottom && (i2.bottom = n3)) : i2 = {
                  left: t3,
                  right: t3,
                  top: n3,
                  bottom: n3
                }, o2 ? P2.pathListRel.push([o2, {
                  x: t3,
                  y: n3
                }]) : P2.pathListRel = [], o2 = {
                  x: t3,
                  y: n3
                };
              }), P2.pathListRel.push([]), e2 = P2.strokeWidth / 2, l2 = [{
                x: i2.left - e2,
                y: i2.top - e2
              }, {
                x: i2.right + e2,
                y: i2.bottom + e2
              }], P2.bBoxRel = {
                left: l2[0].x,
                top: l2[0].y,
                right: l2[1].x,
                bottom: l2[1].y,
                width: l2[1].x - l2[0].x,
                height: l2[1].y - l2[0].y
              };
          }
          W2.pathListRel = W2.bBoxRel = true;
        }
        return (W2.pathListRel || W2.elementLeft || W2.elementTop) && (P2.pathData = we(P2.pathListRel, function(e3) {
          e3.x += a2.left, e3.y += a2.top;
        })), We(t2, N2, "strokeWidth", n2 = P2.strokeWidth) && (t2.path.style.strokeWidth = n2 + "px"), Me(n2 = P2.pathData, N2.pathData) && (t2.path.setPathData(n2), N2.pathData = n2, W2.pathData = true), t2.dash && (!W2.pathData && (!W2.strokeWidth || t2.dashLen && t2.dashGap) || (P2.dashLen = t2.dashLen || 2 * P2.strokeWidth, P2.dashGap = t2.dashGap || P2.strokeWidth), W2.dash = We(t2, N2, "dashLen", P2.dashLen) || W2.dash, W2.dash = We(t2, N2, "dashGap", P2.dashGap) || W2.dash, W2.dash && (t2.path.style.strokeDasharray = N2.dashLen + "," + N2.dashGap)), C2 = P2.viewBoxBBox, L2 = N2.viewBoxBBox, A2 = t2.svg.viewBox.baseVal, V2 = t2.svg.style, C2.x = P2.bBoxRel.left + a2.left, C2.y = P2.bBoxRel.top + a2.top, C2.width = P2.bBoxRel.width, C2.height = P2.bBoxRel.height, ["x", "y", "width", "height"].forEach(function(e3) {
          (n2 = C2[e3]) !== L2[e3] && (A2[e3] = L2[e3] = n2, V2[oe[e3]] = n2 + ("x" === e3 || "y" === e3 ? t2.bodyOffset[e3] : 0) + "px");
        }), W2.strokeWidth || W2.pathListRel || W2.bBoxRel;
      }
    },
    mouseHoverAnchor: {
      type: "anchor",
      argOptions: [{
        optionName: "element",
        type: ye
      }, {
        optionName: "showEffectName",
        type: "string"
      }],
      style: {
        backgroundImage: "url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",
        backgroundSize: "",
        backgroundRepeat: "no-repeat",
        backgroundColor: "#f8f881",
        cursor: "default"
      },
      hoverStyle: {
        backgroundImage: "none",
        backgroundColor: "#fadf8f"
      },
      padding: {
        top: 1,
        right: 15,
        bottom: 1,
        left: 2
      },
      minHeight: 15,
      backgroundPosition: {
        right: 2,
        top: 2
      },
      backgroundSize: {
        width: 12,
        height: 12
      },
      dirKeys: [
        ["top", "Top"],
        ["right", "Right"],
        ["bottom", "Bottom"],
        ["left", "Left"]
      ],
      init: function(a2, i2) {
        var o2, t2, e2, n2, l2, r2, s2, u2, h2, p2, c2, d2 = y.mouseHoverAnchor, f2 = {};
        if (a2.element = y.pointAnchor.checkElement(i2.element), u2 = a2.element, !((p2 = u2.ownerDocument) && (h2 = p2.defaultView) && h2.HTMLElement && u2 instanceof h2.HTMLElement)) throw new Error("`element` must be HTML element");
        return d2.style.backgroundSize = d2.backgroundSize.width + "px " + d2.backgroundSize.height + "px", ["style", "hoverStyle"].forEach(function(e3) {
          var n3 = d2[e3];
          a2[e3] = Object.keys(n3).reduce(function(e4, t3) {
            return e4[t3] = n3[t3], e4;
          }, {});
        }), "inline" === (o2 = a2.element.ownerDocument.defaultView.getComputedStyle(a2.element, "")).display ? a2.style.display = "inline-block" : "none" === o2.display && (a2.style.display = "block"), y.mouseHoverAnchor.dirKeys.forEach(function(e3) {
          var t3 = e3[0], n3 = "padding" + e3[1];
          parseFloat(o2[n3]) < d2.padding[t3] && (a2.style[n3] = d2.padding[t3] + "px");
        }), a2.style.display && (n2 = a2.element.style.display, a2.element.style.display = a2.style.display), y.mouseHoverAnchor.dirKeys.forEach(function(e3) {
          var t3 = "padding" + e3[1];
          a2.style[t3] && (f2[t3] = a2.element.style[t3], a2.element.style[t3] = a2.style[t3]);
        }), (e2 = a2.element.getBoundingClientRect()).height < d2.minHeight && (le ? (c2 = d2.minHeight, "content-box" === o2.boxSizing ? c2 -= parseFloat(o2.borderTopWidth) + parseFloat(o2.borderBottomWidth) + parseFloat(o2.paddingTop) + parseFloat(o2.paddingBottom) : "padding-box" === o2.boxSizing && (c2 -= parseFloat(o2.borderTopWidth) + parseFloat(o2.borderBottomWidth)), a2.style.height = c2 + "px") : a2.style.height = parseFloat(o2.height) + (d2.minHeight - e2.height) + "px"), a2.style.backgroundPosition = ue ? e2.width - d2.backgroundSize.width - d2.backgroundPosition.right + "px " + d2.backgroundPosition.top + "px" : "right " + d2.backgroundPosition.right + "px top " + d2.backgroundPosition.top + "px", a2.style.display && (a2.element.style.display = n2), y.mouseHoverAnchor.dirKeys.forEach(function(e3) {
          var t3 = "padding" + e3[1];
          a2.style[t3] && (a2.element.style[t3] = f2[t3]);
        }), ["style", "hoverStyle"].forEach(function(e3) {
          var t3 = a2[e3], n3 = i2[e3];
          k(n3) && Object.keys(n3).forEach(function(e4) {
            "string" == typeof n3[e4] || w(n3[e4]) ? t3[e4] = n3[e4] : null == n3[e4] && delete t3[e4];
          });
        }), "function" == typeof i2.onSwitch && (s2 = i2.onSwitch), i2.showEffectName && g[i2.showEffectName] && (a2.showEffectName = l2 = i2.showEffectName), r2 = i2.animOptions, a2.elmStyle = t2 = a2.element.style, a2.mouseenter = function(e3) {
          a2.hoverStyleSave = d2.getStyles(t2, Object.keys(a2.hoverStyle)), d2.setStyles(t2, a2.hoverStyle), a2.boundTargets.forEach(function(e4) {
            je(e4.props, true, l2, r2);
          }), s2 && s2(e3);
        }, a2.mouseleave = function(e3) {
          d2.setStyles(t2, a2.hoverStyleSave), a2.boundTargets.forEach(function(e4) {
            je(e4.props, false, l2, r2);
          }), s2 && s2(e3);
        }, true;
      },
      bind: function(e2, t2) {
        var n2, a2, i2, o2, l2;
        return t2.props.svg ? y.mouseHoverAnchor.llShow(t2.props, false, e2.showEffectName) : Le(function() {
          y.mouseHoverAnchor.llShow(t2.props, false, e2.showEffectName);
        }), e2.enabled || (e2.styleSave = y.mouseHoverAnchor.getStyles(e2.elmStyle, Object.keys(e2.style)), y.mouseHoverAnchor.setStyles(e2.elmStyle, e2.style), e2.removeEventListener = (n2 = e2.element, a2 = e2.mouseenter, i2 = e2.mouseleave, "onmouseenter" in n2 && "onmouseleave" in n2 ? (n2.addEventListener("mouseenter", a2, false), n2.addEventListener("mouseleave", i2, false), function() {
          n2.removeEventListener("mouseenter", a2, false), n2.removeEventListener("mouseleave", i2, false);
        }) : (console.warn("mouseenter and mouseleave events polyfill is enabled."), o2 = function(e3) {
          e3.relatedTarget && (e3.relatedTarget === this || this.compareDocumentPosition(e3.relatedTarget) & Node.DOCUMENT_POSITION_CONTAINED_BY) || a2.apply(this, arguments);
        }, n2.addEventListener("mouseover", o2), l2 = function(e3) {
          e3.relatedTarget && (e3.relatedTarget === this || this.compareDocumentPosition(e3.relatedTarget) & Node.DOCUMENT_POSITION_CONTAINED_BY) || i2.apply(this, arguments);
        }, n2.addEventListener("mouseout", l2), function() {
          n2.removeEventListener("mouseover", o2, false), n2.removeEventListener("mouseout", l2, false);
        })), e2.enabled = true), true;
      },
      unbind: function(e2, t2) {
        e2.enabled && e2.boundTargets.length <= 1 && (e2.removeEventListener(), y.mouseHoverAnchor.setStyles(e2.elmStyle, e2.styleSave), e2.enabled = false), y.mouseHoverAnchor.llShow(t2.props, true, e2.showEffectName);
      },
      removeOption: function(e2, t2) {
        y.pointAnchor.removeOption(e2, t2);
      },
      remove: function(t2) {
        t2.boundTargets.length && (console.error("LeaderLineAttachment was not unbound by remove"), t2.boundTargets.forEach(function(e2) {
          y.mouseHoverAnchor.unbind(t2, e2);
        }));
      },
      getBBoxNest: function(e2, t2) {
        return ge(e2.element, t2.baseWindow);
      },
      llShow: function(e2, t2, n2) {
        g[n2 || e2.curStats.show_effect].stop(e2, true, t2), e2.aplStats.show_on = t2;
      },
      getStyles: function(n2, e2) {
        return e2.reduce(function(e3, t2) {
          return e3[t2] = n2[t2], e3;
        }, {});
      },
      setStyles: function(t2, n2) {
        Object.keys(n2).forEach(function(e2) {
          t2[e2] = n2[e2];
        });
      }
    },
    captionLabel: {
      type: "label",
      argOptions: [{
        optionName: "text",
        type: "string"
      }],
      stats: {
        color: {},
        x: {},
        y: {}
      },
      textStyleProps: ["fontFamily", "fontStyle", "fontVariant", "fontWeight", "fontStretch", "fontSize", "fontSizeAdjust", "kerning", "letterSpacing", "wordSpacing", "textDecoration"],
      init: function(u2, t2) {
        return "string" == typeof t2.text && (u2.text = t2.text.trim()), !!u2.text && ("string" == typeof t2.color && (u2.color = t2.color.trim()), u2.outlineColor = "string" == typeof t2.outlineColor ? t2.outlineColor.trim() : "#fff", Array.isArray(t2.offset) && w(t2.offset[0]) && w(t2.offset[1]) && (u2.offset = {
          x: t2.offset[0],
          y: t2.offset[1]
        }), w(t2.lineOffset) && (u2.lineOffset = t2.lineOffset), y.captionLabel.textStyleProps.forEach(function(e2) {
          null != t2[e2] && (u2[e2] = t2[e2]);
        }), u2.updateColor = function(e2) {
          y.captionLabel.updateColor(u2, e2);
        }, u2.updateSocketXY = function(e2) {
          var t3, n2, a2, i2, o2 = u2.curStats, l2 = u2.aplStats, r2 = e2.curStats, s2 = r2.position_socketXYSE[u2.socketIndex];
          null != s2.x && (u2.offset ? (o2.x = s2.x + u2.offset.x, o2.y = s2.y + u2.offset.y) : (t3 = u2.height / 2, n2 = Math.max(r2.attach_plugSideLenSE[u2.socketIndex] || 0, r2.line_strokeWidth / 2), a2 = r2.position_socketXYSE[u2.socketIndex ? 0 : 1], s2.socketId === L || s2.socketId === I ? (o2.x = s2.socketId === L ? s2.x - t3 - u2.width : s2.x + t3, o2.y = a2.y < s2.y ? s2.y + n2 + t3 : s2.y - n2 - t3 - u2.height) : (o2.x = a2.x < s2.x ? s2.x + n2 + t3 : s2.x - n2 - t3 - u2.width, o2.y = s2.socketId === M ? s2.y - t3 - u2.height : s2.y + t3)), We(u2, l2, "x", i2 = o2.x) && (u2.elmPosition.x.baseVal.getItem(0).value = i2), We(u2, l2, "y", i2 = o2.y) && (u2.elmPosition.y.baseVal.getItem(0).value = i2 + u2.height));
        }, u2.updatePath = function(e2) {
          var t3, n2, a2 = u2.curStats, i2 = u2.aplStats, o2 = e2.pathList.animVal || e2.pathList.baseVal;
          o2 && (t3 = y.captionLabel.getMidPoint(o2, u2.lineOffset), a2.x = t3.x - u2.width / 2, a2.y = t3.y - u2.height / 2, We(u2, i2, "x", n2 = a2.x) && (u2.elmPosition.x.baseVal.getItem(0).value = n2), We(u2, i2, "y", n2 = a2.y) && (u2.elmPosition.y.baseVal.getItem(0).value = n2 + u2.height));
        }, u2.updateShow = function(e2) {
          y.captionLabel.updateShow(u2, e2);
        }, ue && (u2.adjustEdge = function(e2, t3) {
          var n2 = u2.curStats;
          null != n2.x && y.captionLabel.adjustEdge(t3, {
            x: n2.x,
            y: n2.y,
            width: u2.width,
            height: u2.height
          }, u2.strokeWidth / 2);
        }), true);
      },
      updateColor: function(e2, t2) {
        var n2, a2 = e2.curStats, i2 = e2.aplStats, o2 = t2.curStats;
        a2.color = n2 = e2.color || o2.line_color, We(e2, i2, "color", n2) && (e2.styleFill.fill = n2);
      },
      updateShow: function(e2, t2) {
        var n2 = true === t2.isShown;
        n2 !== e2.isShown && (e2.styleShow.visibility = n2 ? "" : "hidden", e2.isShown = n2);
      },
      adjustEdge: function(e2, t2, n2) {
        var a2 = {
          x1: t2.x - n2,
          y1: t2.y - n2,
          x2: t2.x + t2.width + n2,
          y2: t2.y + t2.height + n2
        };
        a2.x1 < e2.x1 && (e2.x1 = a2.x1), a2.y1 < e2.y1 && (e2.y1 = a2.y1), a2.x2 > e2.x2 && (e2.x2 = a2.x2), a2.y2 > e2.y2 && (e2.y2 = a2.y2);
      },
      newText: function(e2, t2, n2, a2, i2) {
        var o2, l2, r2, s2, u2, h2;
        return (o2 = t2.createElementNS(b, "text")).textContent = e2, [o2.x, o2.y].forEach(function(e3) {
          var t3 = n2.createSVGLength();
          t3.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, 0), e3.baseVal.initialize(t3);
        }), "boolean" != typeof f && (f = "paintOrder" in o2.style), i2 && !f ? (r2 = t2.createElementNS(b, "defs"), o2.id = a2, r2.appendChild(o2), (u2 = (l2 = t2.createElementNS(b, "g")).appendChild(t2.createElementNS(b, "use"))).href.baseVal = "#" + a2, (s2 = l2.appendChild(t2.createElementNS(b, "use"))).href.baseVal = "#" + a2, (h2 = u2.style).strokeLinejoin = "round", {
          elmPosition: o2,
          styleText: o2.style,
          styleFill: s2.style,
          styleStroke: h2,
          styleShow: l2.style,
          elmsAppend: [r2, l2]
        }) : (h2 = o2.style, i2 && (h2.strokeLinejoin = "round", h2.paintOrder = "stroke"), {
          elmPosition: o2,
          styleText: h2,
          styleFill: h2,
          styleStroke: i2 ? h2 : null,
          styleShow: h2,
          elmsAppend: [o2]
        });
      },
      getMidPoint: function(e2, t2) {
        var n2, a2, i2, o2 = Oe(e2), l2 = o2.segsLen, r2 = o2.lenAll, s2 = -1;
        if ((n2 = r2 / 2 + (t2 || 0)) <= 0) return 2 === (a2 = e2[0]).length ? ve(a2[0], a2[1], 0) : xe(a2[0], a2[1], a2[2], a2[3], 0);
        if (r2 <= n2) return 2 === (a2 = e2[e2.length - 1]).length ? ve(a2[0], a2[1], 1) : xe(a2[0], a2[1], a2[2], a2[3], 1);
        for (i2 = []; n2 > l2[++s2]; ) i2.push(e2[s2]), n2 -= l2[s2];
        return 2 === (a2 = e2[s2]).length ? ve(a2[0], a2[1], n2 / l2[s2]) : xe(a2[0], a2[1], a2[2], a2[3], ke(a2[0], a2[1], a2[2], a2[3], n2));
      },
      initSvg: function(t2, n2) {
        var e2, a2, i2 = y.captionLabel.newText(t2.text, n2.baseWindow.document, n2.svg, v + "-captionLabel-" + t2._id, t2.outlineColor);
        ["elmPosition", "styleFill", "styleShow", "elmsAppend"].forEach(function(e3) {
          t2[e3] = i2[e3];
        }), t2.isShown = false, t2.styleShow.visibility = "hidden", y.captionLabel.textStyleProps.forEach(function(e3) {
          null != t2[e3] && (i2.styleText[e3] = t2[e3]);
        }), i2.elmsAppend.forEach(function(e3) {
          n2.svg.appendChild(e3);
        }), e2 = i2.elmPosition.getBBox(), t2.width = e2.width, t2.height = e2.height, t2.outlineColor && (a2 = 10 < (a2 = e2.height / 9) ? 10 : a2 < 2 ? 2 : a2, i2.styleStroke.strokeWidth = a2 + "px", i2.styleStroke.stroke = t2.outlineColor), t2.strokeWidth = a2 || 0, Te(t2.aplStats, y.captionLabel.stats), t2.updateColor(n2), t2.refSocketXY ? t2.updateSocketXY(n2) : t2.updatePath(n2), ue && De(n2, {}), t2.updateShow(n2);
      },
      bind: function(e2, t2) {
        var n2 = t2.props;
        return e2.color || Ie(n2, "cur_line_color", e2.updateColor), (e2.refSocketXY = "startLabel" === t2.optionName || "endLabel" === t2.optionName) ? (e2.socketIndex = "startLabel" === t2.optionName ? 0 : 1, Ie(n2, "apl_position", e2.updateSocketXY), e2.offset || (Ie(n2, "cur_attach_plugSideLenSE", e2.updateSocketXY), Ie(n2, "cur_line_strokeWidth", e2.updateSocketXY))) : Ie(n2, "apl_path", e2.updatePath), Ie(n2, "svgShow", e2.updateShow), ue && Ie(n2, "new_edge4viewBox", e2.adjustEdge), y.captionLabel.initSvg(e2, n2), true;
      },
      unbind: function(e2, t2) {
        var n2 = t2.props;
        e2.elmsAppend && (e2.elmsAppend.forEach(function(e3) {
          n2.svg.removeChild(e3);
        }), e2.elmPosition = e2.styleFill = e2.styleShow = e2.elmsAppend = null), Te(e2.curStats, y.captionLabel.stats), Te(e2.aplStats, y.captionLabel.stats), e2.color || Ce(n2, "cur_line_color", e2.updateColor), e2.refSocketXY ? (Ce(n2, "apl_position", e2.updateSocketXY), e2.offset || (Ce(n2, "cur_attach_plugSideLenSE", e2.updateSocketXY), Ce(n2, "cur_line_strokeWidth", e2.updateSocketXY))) : Ce(n2, "apl_path", e2.updatePath), Ce(n2, "svgShow", e2.updateShow), ue && (Ce(n2, "new_edge4viewBox", e2.adjustEdge), De(n2, {}));
      },
      removeOption: function(e2, t2) {
        var n2 = t2.props, a2 = {};
        a2[t2.optionName] = "", Ze(n2, a2);
      },
      remove: function(t2) {
        t2.boundTargets.length && (console.error("LeaderLineAttachment was not unbound by remove"), t2.boundTargets.forEach(function(e2) {
          y.captionLabel.unbind(t2, e2);
        }));
      }
    },
    pathLabel: {
      type: "label",
      argOptions: [{
        optionName: "text",
        type: "string"
      }],
      stats: {
        color: {},
        startOffset: {},
        pathData: {}
      },
      init: function(s2, t2) {
        return "string" == typeof t2.text && (s2.text = t2.text.trim()), !!s2.text && ("string" == typeof t2.color && (s2.color = t2.color.trim()), s2.outlineColor = "string" == typeof t2.outlineColor ? t2.outlineColor.trim() : "#fff", w(t2.lineOffset) && (s2.lineOffset = t2.lineOffset), y.captionLabel.textStyleProps.forEach(function(e2) {
          null != t2[e2] && (s2[e2] = t2[e2]);
        }), s2.updateColor = function(e2) {
          y.captionLabel.updateColor(s2, e2);
        }, s2.updatePath = function(e2) {
          var t3, n2 = s2.curStats, a2 = s2.aplStats, i2 = e2.curStats, o2 = e2.pathList.animVal || e2.pathList.baseVal;
          o2 && (n2.pathData = t3 = y.pathLabel.getOffsetPathData(o2, i2.line_strokeWidth / 2 + s2.strokeWidth / 2 + s2.height / 4, 1.25 * s2.height), Me(t3, a2.pathData) && (s2.elmPath.setPathData(t3), a2.pathData = t3, s2.bBox = s2.elmPosition.getBBox(), s2.updateStartOffset(e2)));
        }, s2.updateStartOffset = function(e2) {
          var t3, n2, a2, i2, o2 = s2.curStats, l2 = s2.aplStats, r2 = e2.curStats;
          o2.pathData && ((2 !== s2.semIndex || s2.lineOffset) && (t3 = o2.pathData.reduce(function(e3, t4) {
            var n3, a3 = t4.values;
            switch (t4.type) {
              case "M":
                i2 = {
                  x: a3[0],
                  y: a3[1]
                };
                break;
              case "L":
                n3 = {
                  x: a3[0],
                  y: a3[1]
                }, i2 && (e3 += _e(i2, n3)), i2 = n3;
                break;
              case "C":
                n3 = {
                  x: a3[4],
                  y: a3[5]
                }, i2 && (e3 += be(i2, {
                  x: a3[0],
                  y: a3[1]
                }, {
                  x: a3[2],
                  y: a3[3]
                }, n3)), i2 = n3;
            }
            return e3;
          }, 0), a2 = 0 === s2.semIndex ? 0 : 1 === s2.semIndex ? t3 : t3 / 2, 2 !== s2.semIndex && (n2 = Math.max(r2.attach_plugBackLenSE[s2.semIndex] || 0, r2.line_strokeWidth / 2) + s2.strokeWidth / 2 + s2.height / 4, a2 = (a2 += 0 === s2.semIndex ? n2 : -n2) < 0 ? 0 : t3 < a2 ? t3 : a2), s2.lineOffset && (a2 = (a2 += s2.lineOffset) < 0 ? 0 : t3 < a2 ? t3 : a2), o2.startOffset = a2, We(s2, l2, "startOffset", a2) && (s2.elmOffset.startOffset.baseVal.value = a2)));
        }, s2.updateShow = function(e2) {
          y.captionLabel.updateShow(s2, e2);
        }, ue && (s2.adjustEdge = function(e2, t3) {
          s2.bBox && y.captionLabel.adjustEdge(t3, s2.bBox, s2.strokeWidth / 2);
        }), true);
      },
      getOffsetPathData: function(e2, x2, n2) {
        var b2, a2, i2 = 3, k2 = [];
        function w2(e3, t2) {
          return Math.abs(e3.x - t2.x) < i2 && Math.abs(e3.y - t2.y) < i2;
        }
        return e2.forEach(function(e3) {
          var t2, n3, a3, i3, o2, l2, r2, s2, u2, h2, p2, c2, d2, f2, y2, S2, m2, g2, _2, v2, E2;
          2 === e3.length ? (g2 = e3[0], _2 = e3[1], v2 = x2, E2 = Math.atan2(g2.y - _2.y, _2.x - g2.x) + 0.5 * Math.PI, t2 = [{
            x: g2.x + Math.cos(E2) * v2,
            y: g2.y + Math.sin(E2) * v2 * -1
          }, {
            x: _2.x + Math.cos(E2) * v2,
            y: _2.y + Math.sin(E2) * v2 * -1
          }], b2 ? (a3 = b2.points, 0 <= (i3 = Math.atan2(a3[1].y - a3[0].y, a3[0].x - a3[1].x) - Math.atan2(e3[0].y - e3[1].y, e3[1].x - e3[0].x)) && i3 <= Math.PI ? n3 = {
            type: "line",
            points: t2,
            inside: true
          } : (l2 = Ee(a3[0], a3[1], x2), o2 = Ee(t2[1], t2[0], x2), s2 = a3[0], h2 = o2, p2 = t2[1], c2 = (u2 = l2).x - s2.x, d2 = u2.y - s2.y, f2 = p2.x - h2.x, y2 = p2.y - h2.y, S2 = (-d2 * (s2.x - h2.x) + c2 * (s2.y - h2.y)) / (-f2 * d2 + c2 * y2), m2 = (f2 * (s2.y - h2.y) - y2 * (s2.x - h2.x)) / (-f2 * d2 + c2 * y2), (r2 = 0 <= S2 && S2 <= 1 && 0 <= m2 && m2 <= 1 ? {
            x: s2.x + m2 * c2,
            y: s2.y + m2 * d2
          } : null) ? n3 = {
            type: "line",
            points: [a3[1] = r2, t2[1]]
          } : (a3[1] = w2(o2, l2) ? o2 : l2, n3 = {
            type: "line",
            points: [o2, t2[1]]
          }), b2.len = _e(a3[0], a3[1]))) : n3 = {
            type: "line",
            points: t2
          }, n3.len = _e(n3.points[0], n3.points[1]), k2.push(b2 = n3)) : (k2.push({
            type: "cubic",
            points: function(e4, t3, n4, a4, i4, o3) {
              for (var l3, r3, s3 = be(e4, t3, n4, a4) / o3, u3 = 1 / (o3 < i4 ? s3 * (i4 / o3) : s3), h3 = [], p3 = 0; r3 = (90 - (l3 = xe(e4, t3, n4, a4, p3)).angle) * (Math.PI / 180), h3.push({
                x: l3.x + Math.cos(r3) * i4,
                y: l3.y + Math.sin(r3) * i4 * -1
              }), !(1 <= p3); ) 1 < (p3 += u3) && (p3 = 1);
              return h3;
            }(e3[0], e3[1], e3[2], e3[3], x2, 16)
          }), b2 = null);
        }), b2 = null, k2.forEach(function(e3) {
          var t2;
          "line" === e3.type ? (e3.inside && (b2.len > x2 ? ((t2 = b2.points)[1] = Ee(t2[0], t2[1], -x2), b2.len = _e(t2[0], t2[1])) : (b2.points = null, b2.len = 0), e3.len > x2 + n2 ? ((t2 = e3.points)[0] = Ee(t2[1], t2[0], -(x2 + n2)), e3.len = _e(t2[0], t2[1])) : (e3.points = null, e3.len = 0)), b2 = e3) : b2 = null;
        }), k2.reduce(function(t2, e3) {
          var n3 = e3.points;
          return n3 && (a2 && w2(n3[0], a2) || t2.push({
            type: "M",
            values: [n3[0].x, n3[0].y]
          }), "line" === e3.type ? t2.push({
            type: "L",
            values: [n3[1].x, n3[1].y]
          }) : (n3.shift(), n3.forEach(function(e4) {
            t2.push({
              type: "L",
              values: [e4.x, e4.y]
            });
          })), a2 = n3[n3.length - 1]), t2;
        }, []);
      },
      newText: function(e2, t2, n2, a2) {
        var i2, o2, l2, r2, s2, u2, h2, p2, c2, d2;
        return (r2 = (l2 = t2.createElementNS(b, "defs")).appendChild(t2.createElementNS(b, "path"))).id = i2 = n2 + "-path", (u2 = (s2 = t2.createElementNS(b, "text")).appendChild(t2.createElementNS(b, "textPath"))).href.baseVal = "#" + i2, u2.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, 0), u2.textContent = e2, "boolean" != typeof f && (f = "paintOrder" in s2.style), a2 && !f ? (s2.id = o2 = n2 + "-text", l2.appendChild(s2), (c2 = (h2 = t2.createElementNS(b, "g")).appendChild(t2.createElementNS(b, "use"))).href.baseVal = "#" + o2, (p2 = h2.appendChild(t2.createElementNS(b, "use"))).href.baseVal = "#" + o2, (d2 = c2.style).strokeLinejoin = "round", {
          elmPosition: s2,
          elmPath: r2,
          elmOffset: u2,
          styleText: s2.style,
          styleFill: p2.style,
          styleStroke: d2,
          styleShow: h2.style,
          elmsAppend: [l2, h2]
        }) : (d2 = s2.style, a2 && (d2.strokeLinejoin = "round", d2.paintOrder = "stroke"), {
          elmPosition: s2,
          elmPath: r2,
          elmOffset: u2,
          styleText: d2,
          styleFill: d2,
          styleStroke: a2 ? d2 : null,
          styleShow: d2,
          elmsAppend: [l2, s2]
        });
      },
      initSvg: function(t2, n2) {
        var e2, a2, i2 = y.pathLabel.newText(t2.text, n2.baseWindow.document, v + "-pathLabel-" + t2._id, t2.outlineColor);
        ["elmPosition", "elmPath", "elmOffset", "styleFill", "styleShow", "elmsAppend"].forEach(function(e3) {
          t2[e3] = i2[e3];
        }), t2.isShown = false, t2.styleShow.visibility = "hidden", y.captionLabel.textStyleProps.forEach(function(e3) {
          null != t2[e3] && (i2.styleText[e3] = t2[e3]);
        }), i2.elmsAppend.forEach(function(e3) {
          n2.svg.appendChild(e3);
        }), i2.elmPath.setPathData([{
          type: "M",
          values: [0, 100]
        }, {
          type: "h",
          values: [100]
        }]), e2 = i2.elmPosition.getBBox(), i2.styleText.textAnchor = ["start", "end", "middle"][t2.semIndex], 2 !== t2.semIndex || t2.lineOffset || i2.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE, 50), t2.height = e2.height, t2.outlineColor && (a2 = 10 < (a2 = e2.height / 9) ? 10 : a2 < 2 ? 2 : a2, i2.styleStroke.strokeWidth = a2 + "px", i2.styleStroke.stroke = t2.outlineColor), t2.strokeWidth = a2 || 0, Te(t2.aplStats, y.pathLabel.stats), t2.updateColor(n2), t2.updatePath(n2), t2.updateStartOffset(n2), ue && De(n2, {}), t2.updateShow(n2);
      },
      bind: function(e2, t2) {
        var n2 = t2.props;
        return e2.color || Ie(n2, "cur_line_color", e2.updateColor), Ie(n2, "cur_line_strokeWidth", e2.updatePath), Ie(n2, "apl_path", e2.updatePath), e2.semIndex = "startLabel" === t2.optionName ? 0 : "endLabel" === t2.optionName ? 1 : 2, (2 !== e2.semIndex || e2.lineOffset) && Ie(n2, "cur_attach_plugBackLenSE", e2.updateStartOffset), Ie(n2, "svgShow", e2.updateShow), ue && Ie(n2, "new_edge4viewBox", e2.adjustEdge), y.pathLabel.initSvg(e2, n2), true;
      },
      unbind: function(e2, t2) {
        var n2 = t2.props;
        e2.elmsAppend && (e2.elmsAppend.forEach(function(e3) {
          n2.svg.removeChild(e3);
        }), e2.elmPosition = e2.elmPath = e2.elmOffset = e2.styleFill = e2.styleShow = e2.elmsAppend = null), Te(e2.curStats, y.pathLabel.stats), Te(e2.aplStats, y.pathLabel.stats), e2.color || Ce(n2, "cur_line_color", e2.updateColor), Ce(n2, "cur_line_strokeWidth", e2.updatePath), Ce(n2, "apl_path", e2.updatePath), (2 !== e2.semIndex || e2.lineOffset) && Ce(n2, "cur_attach_plugBackLenSE", e2.updateStartOffset), Ce(n2, "svgShow", e2.updateShow), ue && (Ce(n2, "new_edge4viewBox", e2.adjustEdge), De(n2, {}));
      },
      removeOption: function(e2, t2) {
        var n2 = t2.props, a2 = {};
        a2[t2.optionName] = "", Ze(n2, a2);
      },
      remove: function(t2) {
        t2.boundTargets.length && (console.error("LeaderLineAttachment was not unbound by remove"), t2.boundTargets.forEach(function(e2) {
          y.pathLabel.unbind(t2, e2);
        }));
      }
    }
  }, Object.keys(y).forEach(function(e2) {
    Ye[e2] = function() {
      return new S(y[e2], Array.prototype.slice.call(arguments));
    };
  }), Ye.positionByWindowResize = true, window.addEventListener("resize", O.add(function() {
    Ye.positionByWindowResize && Object.keys(K).forEach(function(e2) {
      De(K[e2], {
        position: true
      });
    });
  }), false), Ye;
}();
var leader_line_vue_default = {
  setLine: function(start, end, config = {}) {
    return new LeaderLine(start, end, config);
  },
  obj: LeaderLine
};
export {
  leader_line_vue_default as default
};
/*! Bundled license information:

leader-line-vue/leader-line-vue.js:
  (*! LeaderLine v1.0.5 (c) anseki https://anseki.github.io/leader-line/ *)
*/
//# sourceMappingURL=leader-line-vue.js.map
